const { getCurrentStepInstance } = require('../access.ts')

const jobWithOneProcessTwoSteps = { job:
  { id: '1',
    processInstances: [ { id: '10', name: 'Add and Remove Elements', status: 'complete', order: 2, stepInstances: [ ] } ],
    stepInstances:
     [ { id: '133', name: '5. Navigate  to Add Remove Elements', order: 1, status: 'complete', type: 'step_instance' },
       { id: '134', name: '10. Navigate  to Add Remove Elements', order: 3, status: 'not_started', type: 'step_instance' } ] } }

const jobWithOneProcessThatHasTwoSteps = { job:
  { id: '1',
    processInstances:
     [ { id: '10',
         name: 'Add and Remove Elements',
         status: 'not_started',
         order: 1,
         type: 'process_instance',
         stepInstances:
          [ { id: '136',
              name: '5. Navigate  to Add Remove Elements',
              order: 1,
              status: 'complete',
              type: 'step_instance' },
            { id: '137',
              name: '10. Click  on Add Element Button',
              order: 2,
              status: 'not_started',
              type: 'step_instance' },
            { id: '138',
              name: '10. Navigate  to Add Remove Elements',
              order: 3,
              status: 'not_started',
              type: 'step_instance' } ] } ],
    stepInstances: [ ] } }


const jobData = { job:
  { id: '1',
    processInstances:
     [ { id: '10',
         name: 'Add and Remove Elements',
         status: 'complete',
         order: 1,
         stepInstances:
          [ { id: '136',
              name: '5. Navigate  to Add Remove Elements',
              order: 1,
              status: 'not_started',
              type: 'step_instance' },
            { id: '137',
              name: '10. Click  on Add Element Button',
              order: 2,
              status: 'not_started',
              type: 'step_instance' },
            { id: '138',
              name: '10. Navigate  to Add Remove Elements',
              order: 3,
              status: 'not_started',
              type: 'step_instance' },
            { id: '139',
              name: 'Set Size',
              order: 4,
              status: 'not_started',
              type: 'step_instance' },
            { id: '140',
              name: '35. Full Screen Screenshot ',
              order: 5,
              status: 'not_started',
              type: 'step_instance' },
            { id: '141',
              name: 'Clear',
              order: 6,
              status: 'not_started',
              type: 'step_instance' },
            { id: '142',
              name: '39. Apply Annotation 2: Outline Add Element Button Test',
              order: 7,
              status: 'not_started',
              type: 'step_instance' },
            { id: '143',
              name: '40. Click  on Add Element Button',
              order: 8,
              status: 'not_started',
              type: 'step_instance' },
            { id: '144',
              name: 'Screenshot',
              order: 9,
              status: 'not_started',
              type: 'step_instance' },
            { id: '145',
              name: 'Clear',
              order: 10,
              status: 'not_started',
              type: 'step_instance' },
            { id: '146',
              name: 'Click Delete',
              order: 11,
              status: 'not_started',
              type: 'step_instance' },
            { id: '147',
              name: '67: Full Screen Screenshot',
              order: 12,
              status: 'not_started',
              type: 'step_instance' } ],
         type: 'process_instance' },
       { id: '9',
         name: 'Add and Remove Elements',
         status: 'not_started',
         order: 5,
         stepInstances:
          [ { id: '121',
              name: '5. Navigate  to Add Remove Elements',
              order: 1,
              status: 'not_started',
              type: 'step_instance' },
            { id: '122',
              name: '10. Click  on Add Element Button',
              order: 2,
              status: 'not_started',
              type: 'step_instance' },
            { id: '123',
              name: '10. Navigate  to Add Remove Elements',
              order: 3,
              status: 'not_started',
              type: 'step_instance' },
            { id: '124',
              name: 'Set Size',
              order: 4,
              status: 'not_started',
              type: 'step_instance' },
            { id: '125',
              name: '35. Full Screen Screenshot ',
              order: 5,
              status: 'not_started',
              type: 'step_instance' },
            { id: '126',
              name: 'Clear',
              order: 6,
              status: 'not_started',
              type: 'step_instance' },
            { id: '127',
              name: '39. Apply Annotation 2: Outline Add Element Button Test',
              order: 7,
              status: 'not_started',
              type: 'step_instance' },
            { id: '128',
              name: '40. Click  on Add Element Button',
              order: 8,
              status: 'not_started',
              type: 'step_instance' },
            { id: '129',
              name: 'Screenshot',
              order: 9,
              status: 'not_started',
              type: 'step_instance' },
            { id: '130',
              name: 'Clear',
              order: 10,
              status: 'not_started',
              type: 'step_instance' },
            { id: '131',
              name: 'Click Delete',
              order: 11,
              status: 'not_started',
              type: 'step_instance' },
            { id: '132',
              name: '67: Full Screen Screenshot',
              order: 12,
              status: 'not_started',
              type: 'step_instance' } ],
         type: 'process_instance' } ],
    stepInstances:
     [ { id: '133',
         name: '5. Navigate  to Add Remove Elements',
         order: 2,
         status: 'not_started',
         type: 'step_instance' },
       { id: '134',
         name: '10. Navigate  to Add Remove Elements',
         order: 3,
         status: 'not_started',
         type: 'step_instance' },
       { id: '135',
         name: '10. Click  on Add Element Button',
         order: 4,
         status: 'not_started',
         type: 'step_instance' } ] } }


/*
test('getCurrentStepInstance returns the next incomplete step instance when its a step', async () => {
  result = getCurrentStepInstance(jobWithOneProcessTwoSteps.job)
  expect(result.name).toBe('10. Navigate  to Add Remove Elements')
})

test('getCurrentStepInstance returns the next incomplete step instance when its in a process', async () => {
  result = getCurrentStepInstance(jobWithOneProcessThatHasTwoSteps.job)
  expect(result.name).toBe('10. Click  on Add Element Button')
})
*/