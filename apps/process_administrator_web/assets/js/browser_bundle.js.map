{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/browser.js","webpack:///./js/browser_main.js","webpack:///./js/commands.js","webpack:///./node_modules/css-selector-generator/build/index.js","webpack:///./node_modules/nprogress/nprogress.js"],"names":["main","getCssSelectorOptions","selectors","XPATH","CSSS","XPATH_STRATEGY_TYPE","CSS_STRATEGY_TYPE","console","log","window","active_annotations","chrome","runtime","onMessage","addListener","request","sender","sendResponse","logSuffix","tab","url","handle_message","environment","document","onmouseover","event","onkeydown","x","keyCode","storage","local","get","result","strategy","selector","configuration","name","message","type","payload","id","status","process","steps","step_type","getPathTo","element","body","tagName","toLowerCase","ix","siblings","parentNode","childNodes","i","length","sibling","nodeType","log_string","handle_job","handle_step","configure_environment","set","job","current_step_id","current_sequence","start_job","updateJobStatus","run_current_step","step","current_step","updateStepStatus","proceed","apply","filter","current_step_index","findIndex","step_type_name","sequence_id","commands","success","step_element_id","step_element","getElementById","element_id","dispatchEvent","CustomEvent","bubbles","detail","job_element_id","job_element","failStep","error","failJob","sendMessage","startStep","sendToBrowser","waitForElement","click","sendToExtension","completeStep","navigate","waitForLoad","fillField","setSize","fullScreenShot","collectElementDimensions","applyAnnotation","clearAnnotations","setSelector","testSelector","step_index","getElement","size","getBoundingClientRect","annotations","outline","badge","removeChild","annotation","annotation_type","blur","badge_x","x_orientation","badge_y","y_orientation","labelText","label","color","xOffset","x_offset","yOffset","y_offset","fontSize","font_size","wrapper","createElement","rect","x_calcs","L","Math","round","left","toString","M","width","R","right","y_calcs","T","top","bottom","height","B","y","style","display","justifyContent","alignItems","minHeight","position","zIndex","borderRadius","textAlign","background","textContent","appendChild","push","outlineColor","thickness","activeWindowId","tabs","captureVisibleTab","encoded_image","undefined","windows","update","activeTabId","text","Event","value","timeout","setTimeout","clearInterval","interval","setInterval","r","clearTimeout","next_step","completeJob","evaluate","XPathResult","FIRST_ORDERED_NODE_TYPE","singleNodeValue","querySelector","getSelector","backgroundColor"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;ACjFA;AAAA;AAAA;AAEAA,6DAAI,G;;;;;;;;;;;;ACHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA,IAAMC,qBAAqB,GAAG;AAC5BC,WAAS,EAAE,CAAC,OAAD,EAAU,KAAV,EAAiB,WAAjB,EAA8B,UAA9B;AADiB,CAA9B;AAIA,IAAIC,KAAK,GAAG,IAAZ;AACA,IAAIC,IAAI,GAAG,IAAX;AAEA,IAAMC,mBAAmB,GAAG,CAA5B;AACA,IAAMC,iBAAiB,GAAG,CAA1B;;AAEA,SAASN,IAAT,GAAgB;AACdO,SAAO,CAACC,GAAR,CAAY,4BAAZ;AAEAC,QAAM,CAACC,kBAAP,GAA4B,EAA5B;AAEAC,QAAM,CAACC,OAAP,CAAeC,SAAf,CAAyBC,WAAzB,CAAqC,UAASC,OAAT,EAAkBC,MAAlB,EAA0BC,YAA1B,EAAwC;AAC3E,QAAIC,SAAS,GAAGF,MAAM,CAACG,GAAP,GAAa,2BAA2BH,MAAM,CAACG,GAAP,CAAWC,GAAnD,GAAyD,oBAAzE;AACAb,WAAO,CAACC,GAAR,CAAY,8BAA8BU,SAA1C;AACAG,2GAAc,CAACN,OAAD,EAAU;AAAEO,iBAAW,EAAE;AAAf,KAAV,CAAd;AACD,GAJD;;AAMAC,UAAQ,CAACC,WAAT,GAAuB,UAASC,KAAT,EAAgB,CACrC;AAEA;AACA;AACA;AACA;AACD,GAPD;;AASAF,UAAQ,CAACG,SAAT,GAAqB,UAASD,KAAT,EAAgB;AACnC,QAAME,CAAC,GAAGF,KAAK,CAACG,OAAhB;;AACA,QAAID,CAAC,KAAK,EAAV,EAAc;AACZhB,YAAM,CAACkB,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB,CAAC,UAAD,CAAzB,EAAuC,UAAUC,MAAV,EAAkB;AACvDzB,eAAO,CAACC,GAAR,CAAY,+BAAZ;AACAD,eAAO,CAACC,GAAR,CAAYwB,MAAM,CAACC,QAAnB;AAEA,YAAIC,QAAJ;AAEA,YAAMC,aAAa,GAAG;AACpBb,qBAAW,EAAE,SADO;AAEpBW,kBAAQ,EAAED,MAAM,CAACC;AAFG,SAAtB;;AAKA,YAAID,MAAM,CAACC,QAAP,CAAgBG,IAAhB,KAAyB,OAA7B,EAAsC;AACpCF,kBAAQ,GAAG/B,KAAX;AACD,SAFD,MAEO,IAAI6B,MAAM,CAACC,QAAP,CAAgBG,IAAhB,KAAyB,KAA7B,EAAoC;AACzCF,kBAAQ,GAAG9B,IAAX;AACD;;AAED,YAAMiC,OAAO,GAAG;AACdC,cAAI,EAAE,MADQ;AAEdC,iBAAO,EAAE;AACPC,cAAE,EAAE,CADG;AAEPC,kBAAM,EAAE,aAFD;AAGPC,mBAAO,EAAE;AACPC,mBAAK,EAAE,CACL;AACEH,kBAAE,EAAE,CADN;AAEEN,wBAAQ,EAAEA,QAFZ;AAGED,wBAAQ,EAAED,MAAM,CAACC,QAHnB;AAIEW,yBAAS,EAAE;AACTR,sBAAI,EAAE;AADG;AAJb,eADK;AADA;AAHF;AAFK,SAAhB;AAoBAf,+GAAc,CAACgB,OAAD,EAAUF,aAAV,CAAd;AACD,OAtCD;AAuCD;AACF,GA3CD;AA4CD;;AAGD,SAASU,SAAT,CAAmBC,OAAnB,EAA4B;AAC1B,MAAIA,OAAO,KAAKvB,QAAQ,CAACwB,IAAzB,EACI,OAAOD,OAAO,CAACE,OAAR,CAAgBC,WAAhB,EAAP;AAEJ,MAAIC,EAAE,GAAE,CAAR;AACA,MAAIC,QAAQ,GAAEL,OAAO,CAACM,UAAR,CAAmBC,UAAjC;;AACA,OAAK,IAAIC,CAAC,GAAE,CAAZ,EAAeA,CAAC,GAACH,QAAQ,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,QAAIE,OAAO,GAAEL,QAAQ,CAACG,CAAD,CAArB;AAEA,QAAIE,OAAO,KAAGV,OAAd,EAAuB,OAAOD,SAAS,CAACC,OAAO,CAACM,UAAT,CAAT,GAAgC,GAAhC,GAAsCN,OAAO,CAACE,OAAR,CAAgBC,WAAhB,EAAtC,GAAsE,GAAtE,IAA6EC,EAAE,GAAG,CAAlF,IAAuF,GAA9F;;AAEvB,QAAIM,OAAO,CAACC,QAAR,KAAmB,CAAnB,IAAwBD,OAAO,CAACR,OAAR,KAAoBF,OAAO,CAACE,OAAxD,EAAiE;AAC7DE,QAAE;AACL;AACJ;AACF;;;;;;;;;;;;;;AC/FD;AAAA;AAAA;AAAA;AAAA;;AAEA,SAAS7B,cAAT,CAAwBgB,OAAxB,EAAiCF,aAAjC,EAAgD;AAC9C,MAAMuB,UAAU,GAAG,cAAcrB,OAAO,CAACC,IAAtB,GAA6B,aAAhD;AACA/B,SAAO,CAACC,GAAR,CAAYkD,UAAZ;;AACA,MAAIrB,OAAO,CAACC,IAAR,IAAgB,SAApB,EAA+B;AAC7BD,WAAO,CAACE,OAAR,CAAgBD,IAAhB,GAAuB,SAAvB;AACAqB,cAAU,CAACtB,OAAO,CAACE,OAAT,EAAkBJ,aAAlB,CAAV;AACD,GAHD,MAGO,IAAIE,OAAO,CAACC,IAAR,IAAgB,MAApB,EAA4B;AACjCD,WAAO,CAACE,OAAR,CAAgBD,IAAhB,GAAuB,MAAvB;AACAsB,eAAW,CAACvB,OAAO,CAACE,OAAT,EAAkBJ,aAAlB,CAAX;AACD,GAHM,MAGA,IAAIE,OAAO,CAACC,IAAR,IAAgB,eAApB,EAAqC;AAC1CuB,yBAAqB,CAACxB,OAAO,CAACE,OAAT,CAArB;AACD;AACF;;AAED,SAASsB,qBAAT,CAA+BtB,OAA/B,EAAwC;AACtChC,SAAO,CAACC,GAAR,CAAY,uBAAZ;AACAG,QAAM,CAACkB,OAAP,CAAeC,KAAf,CAAqBgC,GAArB,CAAyB;AAAC7B,YAAQ,EAAEM,OAAO,CAACN;AAAnB,GAAzB,EAAuD,YAAW;AAChE1B,WAAO,CAACC,GAAR,CAAY,iCAAiC+B,OAAO,CAACN,QAAR,CAAiBG,IAA9D;AACD,GAFD;AAGD;;AAED,SAASuB,UAAT,CAAoBI,GAApB,EAAyB5B,aAAzB,EAAwC;AACtC,MAAMM,MAAM,GAAGsB,GAAG,CAACtB,MAAnB;AAEA,MAAMiB,UAAU,GAAG,kBAAkBK,GAAG,CAACvB,EAAtB,GAA2B,QAA3B,GAAsCuB,GAAG,CAACC,eAA1C,GAA4D,YAA5D,GAA2ED,GAAG,CAACE,gBAA/E,GAAkG,UAAlG,GAA+GxB,MAAlI;AACAlC,SAAO,CAACC,GAAR,CAAYkD,UAAZ;;AAEA,MAAIjB,MAAM,KAAK,aAAf,EAA8B;AAC5ByB,aAAS,CAACH,GAAD,EAAM5B,aAAN,EAAqBwB,UAArB,CAAT;AACAQ,mBAAe,CAACJ,GAAD,CAAf;AACD,GAHD,MAGO,IAAItB,MAAM,IAAI,SAAd,EAAyB;AAC9B2B,oBAAgB,CAACL,GAAD,EAAM5B,aAAN,EAAqBwB,UAArB,CAAhB;AACD,GAFM,MAEA,IAAIlB,MAAM,IAAI,QAAd,EAAwB;AAC7B,QAAM4B,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACAQ,oBAAgB,CAACF,IAAD,CAAhB;AACAF,mBAAe,CAACJ,GAAD,CAAf;AACD,GAJM,MAIA,IAAItB,MAAM,IAAI,UAAd,EAA0B;AAC/B,QAAM4B,KAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;;AACAQ,oBAAgB,CAACF,KAAD,CAAhB;AACAF,mBAAe,CAACJ,GAAD,CAAf;AACD;AACF;;AAED,SAASH,WAAT,CAAqBG,GAArB,EAA0B5B,aAA1B,EAAyC;AACvC,MAAMM,MAAM,GAAGsB,GAAG,CAACtB,MAAnB;AACAlC,SAAO,CAACC,GAAR,CAAY,eAAZ;AACAD,SAAO,CAACC,GAAR,CAAYuD,GAAZ;;AACA,MAAItB,MAAM,KAAK,aAAf,EAA8B;AAC5ByB,aAAS,CAACH,GAAD,EAAM5B,aAAN,EAAqByB,WAArB,CAAT;AACD,GAFD,MAEO,IAAInB,MAAM,IAAI,SAAd,EAAyB;AAC9B2B,oBAAgB,CAACL,GAAD,EAAM5B,aAAN,EAAqByB,WAArB,CAAhB;AACD,GAFM,MAEA,IAAInB,MAAM,IAAI,QAAd,EAAwB;AAC7B,QAAM4B,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACAQ,oBAAgB,CAACF,IAAD,CAAhB;AACD,GAHM,MAGA,IAAI5B,MAAM,IAAI,UAAd,EAA0B;AAC/B,QAAM4B,MAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;;AACAQ,oBAAgB,CAACF,MAAD,CAAhB;AACD;AACF;;AAED,SAASH,SAAT,CAAmBH,GAAnB,EAAwB5B,aAAxB,EAAuCqC,OAAvC,EAAgD;AAC9C,MAAM7B,KAAK,GAAGoB,GAAG,CAACrB,OAAJ,CAAYC,KAA1B;AAEA,MAAMe,UAAU,GAAG,cAAnB;AACAnD,SAAO,CAACC,GAAR,CAAYkD,UAAZ;AAEAK,KAAG,CAACtB,MAAJ,GAAa,SAAb;AACAsB,KAAG,CAACC,eAAJ,GAAsBrB,KAAK,CAAC,CAAD,CAAL,CAASH,EAA/B;AACAuB,KAAG,CAACE,gBAAJ,GAAuB,CAAvB;AAEAO,SAAO,CAACT,GAAD,EAAM5B,aAAN,CAAP;AACD;;AAED,SAASiC,gBAAT,CAA0BL,GAA1B,EAA+B5B,aAA/B,EAA8CqC,OAA9C,EAAuD;AACrD,MAAIH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAvB;AACA,MAAIU,KAAK,GAAGR,gBAAgB,CAACF,GAAD,EAAMM,IAAN,CAA5B;AAEAI,OAAK,CAACV,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAL;AACD;;AAED,SAASF,YAAT,CAAsBP,GAAtB,EAA2B;AACzB,MAAMpB,KAAK,GAAGoB,GAAG,CAACrB,OAAJ,CAAYC,KAA1B;AACA,SAAOA,KAAK,CAAC+B,MAAN,CAAa,UAAAL,IAAI;AAAA,WAAIA,IAAI,CAAC7B,EAAL,KAAYuB,GAAG,CAACC,eAApB;AAAA,GAAjB,EAAsD,CAAtD,CAAP;AACD;;AAED,SAASW,kBAAT,CAA4BZ,GAA5B,EAAiC;AAC/B,MAAMpB,KAAK,GAAGoB,GAAG,CAACrB,OAAJ,CAAYC,KAA1B;AACA,SAAOA,KAAK,CAACiC,SAAN,CAAgB,UAAAP,IAAI;AAAA,WAAIA,IAAI,CAAC7B,EAAL,KAAYuB,GAAG,CAACC,eAApB;AAAA,GAApB,CAAP;AACD;;AAED,SAASC,gBAAT,CAA0BF,GAA1B,EAA+BM,IAA/B,EAAqC;AACnC,MAAMX,UAAU,GAAG,kCAAkCW,IAAI,CAACzB,SAAL,CAAeR,IAApE;AACA7B,SAAO,CAACC,GAAR,CAAY6D,IAAZ;AACA,MAAMQ,cAAc,GAAGR,IAAI,CAACzB,SAAL,CAAeR,IAAtC;AACA,MAAM0C,WAAW,GAAGf,GAAG,CAACE,gBAAxB;AAEA,SAAOc,QAAQ,GAAGF,cAAH,CAAR,CAA2BC,WAA3B,CAAP;AACD;;AAED,SAASE,OAAT,CAAiBjB,GAAjB,EAAsB5B,aAAtB,EAAqCqC,OAArC,EAA8C;AAC5CjE,SAAO,CAACC,GAAR,CAAY,gBAAZ;AACAuD,KAAG,CAACE,gBAAJ,GAAuBF,GAAG,CAACE,gBAAJ,GAAuB,CAA9C;AACAO,SAAO,CAACT,GAAD,EAAM5B,aAAN,CAAP;AACD;;AAED,SAASoC,gBAAT,CAA0BF,IAA1B,EAAgC;AAC9B;AACA9D,SAAO,CAACC,GAAR,CAAY,sBAAZ;AACA,MAAMyE,eAAe,GAAG,UAAUZ,IAAI,CAAC7B,EAAf,GAAoB,SAA5C;AACA,MAAI0C,YAAY,GAAG3D,QAAQ,CAAC4D,cAAT,CAAwBF,eAAxB,CAAnB;AAEAZ,MAAI,CAACe,UAAL,GAAkBH,eAAlB;AAEA1E,SAAO,CAACC,GAAR,CAAY6D,IAAZ;AAEAa,cAAY,CAACG,aAAb,CAA2B,IAAIC,WAAJ,CAAgB,SAAhB,EAA2B;AACpDC,WAAO,EAAE,KAD2C;AAEpDC,UAAM,EAAEnB;AAF4C,GAA3B,CAA3B;AAID;;AAED,SAASF,eAAT,CAAyBJ,GAAzB,EAA8B;AAC5B;AACAxD,SAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,MAAMiF,cAAc,GAAG,aAAa1B,GAAG,CAACrB,OAAJ,CAAYF,EAAzB,GAA8B,SAArD;AACA,MAAIkD,WAAW,GAAGnE,QAAQ,CAAC4D,cAAT,CAAwBM,cAAxB,CAAlB;AAEA1B,KAAG,CAACqB,UAAJ,GAAiBK,cAAjB;AAEAC,aAAW,CAACL,aAAZ,CAA0B,IAAIC,WAAJ,CAAgB,SAAhB,EAA2B;AACnDC,WAAO,EAAE,KAD0C;AAEnDC,UAAM,EAAEzB;AAF2C,GAA3B,CAA1B;AAID;;AAED,SAAS4B,QAAT,CAAkB5B,GAAlB,EAAuB6B,KAAvB,EAA8BzD,aAA9B,EAA6CqC,OAA7C,EAAsD;AACpDjE,SAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,SAAO,CAACC,GAAR,CAAYoF,KAAZ;AACA,MAAIvB,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAvB;AACAM,MAAI,CAAC5B,MAAL,GAAc,QAAd;AACA4B,MAAI,CAACuB,KAAL,GAAaA,KAAb;;AAEA,MAAGzD,aAAa,CAACb,WAAd,IAA6B,WAAhC,EAA6C;AAC3Cf,WAAO,CAACC,GAAR,CAAY,cAAZ;AACAqF,WAAO,CAAC9B,GAAD,EAAM,UAAUM,IAAI,CAAC7B,EAAf,GAAoB,SAA1B,EAAqCL,aAArC,EAAoDqC,OAApD,CAAP;AACD,GAHD,MAGO,IAAIrC,aAAa,CAACb,WAAd,IAA6B,SAAjC,EAA4C;AACjDf,WAAO,CAACC,GAAR,CAAY,YAAZ;AACAqF,WAAO,CAAC9B,GAAD,EAAM,UAAUM,IAAI,CAAC7B,EAAf,GAAoB,SAA1B,EAAqCL,aAArC,EAAoDqC,OAApD,CAAP;AACD;AAEF;;AAED,SAASqB,OAAT,CAAiB9B,GAAjB,EAAsB6B,KAAtB,EAA6BzD,aAA7B,EAA4CqC,OAA5C,EAAqD;AACnDjE,SAAO,CAACC,GAAR,CAAY,YAAZ;AACAuD,KAAG,CAACtB,MAAJ,GAAa,QAAb;AACAsB,KAAG,CAAC6B,KAAJ,GAAYA,KAAZ;;AAEA,MAAGzD,aAAa,CAACb,WAAd,IAA6B,WAAhC,EAA6C;AAC3CkD,WAAO,CAACT,GAAD,EAAM5B,aAAN,CAAP;AACD,GAFD,MAEO,IAAIA,aAAa,CAACb,WAAd,IAA6B,SAAjC,EAA4C;AACjDX,UAAM,CAACC,OAAP,CAAekF,WAAf,CAA2B/B,GAA3B;AACD;AACF;;AAED,SAASgB,QAAT,GAAoB;AAClB,SAAO;AACL,aAAS;AACP,SAAGgB,SADI;AAEP,SAAGC,aAFI;AAGP,SAAGC,cAHI;AAIP,SAAGC,KAJI;AAKP,SAAGC,eALI;AAMP,SAAGC;AANI,KADJ;AASL,gBAAY;AACV,SAAGL,SADO;AAEV,SAAGM,QAFO;AAGV,SAAGC,WAHO;AAIV,SAAGF;AAJO,KATP;AAeL,kBAAc;AACZ,SAAGL,SADS;AAEZ,SAAGC,aAFS;AAGZ,SAAGC,cAHS;AAIZ,SAAGM,SAJS;AAKZ,SAAGJ,eALS;AAMZ,SAAGC;AANS,KAfT;AAuBL,yBAAqB;AACnB,SAAGL,SADgB;AAEnB,SAAGS,OAFgB;AAGnB,SAAGJ;AAHgB,KAvBhB;AA4BL,8BAA0B;AACxB,SAAGL,SADqB;AAExB,SAAGU,cAFqB;AAGxB,SAAGL;AAHqB,KA5BrB;AAiCL,0BAAsB;AACpB,SAAGL,SADiB;AAEpB,SAAGC,aAFiB;AAGpB,SAAGU,wBAHiB;AAIpB,SAAGP,eAJiB;AAKpB,SAAGM,cALiB;AAMpB,SAAGL;AANiB,KAjCjB;AAyCL,wBAAoB;AAClB,SAAGL,SADe;AAElB,SAAGC,aAFe;AAGlB,SAAGC,cAHe;AAIlB,SAAGU,eAJe;AAKlB,SAAGR,eALe;AAMlB,SAAGC;AANe,KAzCf;AAiDL,yBAAqB;AACnB,SAAGL,SADgB;AAEnB,SAAGC,aAFgB;AAGnB,SAAGY,gBAHgB;AAInB,SAAGT,eAJgB;AAKnB,SAAGC;AALgB,KAjDhB;AAwDL,oBAAgB;AACd,SAAGD,eADW;AAEd,SAAGU;AAFW,KAxDX;AA4DL,qBAAiB;AACf,SAAGb,aADY;AAEf,SAAGc;AAFY;AA5DZ,GAAP;AAiED;;AAED,SAASJ,wBAAT,CAAkC3C,GAAlC,EAAuC5B,aAAvC,EAAsDqC,OAAtD,EAA+D;AAC7D,MAAMH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACA,MAAMgD,UAAU,GAAGpC,kBAAkB,CAACZ,GAAD,CAArC;AAEA,MAAM7B,QAAQ,GAAGmC,IAAI,CAACvB,OAAL,CAAaZ,QAA9B;AACA,MAAMD,QAAQ,GAAGoC,IAAI,CAACvB,OAAL,CAAab,QAA9B;AACA,MAAMa,OAAO,GAAGkE,UAAU,CAAC/E,QAAD,EAAWC,QAAX,CAA1B;AAEAmC,MAAI,CAACvB,OAAL,CAAamE,IAAb,GAAoBnE,OAAO,CAACoE,qBAAR,EAApB;AACAnD,KAAG,CAACrB,OAAJ,CAAYC,KAAZ,CAAkBoE,UAAlB,IAAgC1C,IAAhC;AAEAW,SAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD;;AAED,SAAS2C,WAAT,GAAuB;AACrB,SAAO;AACL,eAAWC,OADN;AAEL,aAASC;AAFJ,GAAP;AAID;;AAED,SAAST,gBAAT,CAA0B7C,GAA1B,EAA+B5B,aAA/B,EAA8CqC,OAA9C,EAAuD;AACrD,MAAMH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;;AAEA,MAAI;AACF,SAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7C,MAAM,CAACC,kBAAP,CAA0B6C,MAA9C,EAAsDD,CAAC,EAAvD,EAA2D;AACzD/B,cAAQ,CAACwB,IAAT,CAAcuE,WAAd,CAA0B7G,MAAM,CAACC,kBAAP,CAA0B4C,CAA1B,CAA1B;AACD;;AACD7C,UAAM,CAACC,kBAAP,GAA4B,EAA5B;AACAsE,WAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD,GAND,CAME,OAAMoB,KAAN,EAAa;AACbvB,QAAI,CAAC5B,MAAL,GAAc,QAAd;AACA4B,QAAI,CAACuB,KAAL,GAAaA,KAAb;AACAD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAASmC,eAAT,CAAyB5C,GAAzB,EAA8B5B,aAA9B,EAA6CqC,OAA7C,EAAsD;AACpD,MAAMH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACA,MAAM3B,IAAI,GAAGiC,IAAI,CAACkD,UAAL,CAAgBC,eAAhB,CAAgCpF,IAA7C;AACA7B,SAAO,CAACC,GAAR,CAAY,qBAAZ;AACA;AACF;AACA;AACA;AACA;;AACE,MAAIiE,KAAK,GAAG0C,WAAW,GAAG/E,IAAH,CAAvB;;AACA,MAAI;AACFqC,SAAK,CAACV,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAL;AACAQ,WAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD,GAHD,CAGE,OAAMoB,KAAN,EAAa;AACbD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAASiD,IAAT,CAAc1D,GAAd,EAAmB5B,aAAnB,EAAkC,CAEjC;;AAED,SAASkF,KAAT,CAAetD,GAAf,EAAoB5B,aAApB,EAAmCqC,OAAnC,EAA4C;AAC1CjE,SAAO,CAACC,GAAR,CAAY,2BAAZ;AACA,MAAM6D,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACA,MAAM7B,QAAQ,GAAGmC,IAAI,CAACvB,OAAL,CAAaZ,QAA9B;AACA,MAAMD,QAAQ,GAAGoC,IAAI,CAACvB,OAAL,CAAab,QAA9B;AACA,MAAMa,OAAO,GAAGkE,UAAU,CAAC/E,QAAD,EAAWC,QAAX,CAA1B;AAEA,MAAIwF,OAAO,GAAGrD,IAAI,CAACkD,UAAL,CAAgBI,aAA9B;AACA,MAAIC,OAAO,GAAGvD,IAAI,CAACkD,UAAL,CAAgBM,aAA9B;AACA,MAAIZ,IAAI,GAAG5C,IAAI,CAACkD,UAAL,CAAgBN,IAA3B;AACA,MAAIa,SAAS,GAAGzD,IAAI,CAACkD,UAAL,CAAgBQ,KAAhC;AACA,MAAIC,KAAK,GAAG3D,IAAI,CAACkD,UAAL,CAAgBS,KAA5B;AACA,MAAIC,OAAO,GAAG5D,IAAI,CAACkD,UAAL,CAAgBW,QAA9B;AACA,MAAIC,OAAO,GAAG9D,IAAI,CAACkD,UAAL,CAAgBa,QAA9B;AACA,MAAIC,QAAQ,GAAGhE,IAAI,CAACkD,UAAL,CAAgBe,SAA/B;AAEA,MAAIC,OAAO,GAAGhH,QAAQ,CAACiH,aAAT,CAAuB,KAAvB,CAAd;AACA,MAAInB,KAAK,GAAG9F,QAAQ,CAACiH,aAAT,CAAuB,MAAvB,CAAZ;AACA,MAAIT,KAAK,GAAGxG,QAAQ,CAACiH,aAAT,CAAuB,MAAvB,CAAZ;AAEA,MAAMC,IAAI,GAAG3F,OAAO,CAACoE,qBAAR,EAAb;AAEA,MAAMwB,OAAO,GAAG;AACdC,KAAC,EAAEC,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACK,IAAL,GAAY7B,IAAZ,GAAmBgB,OAA9B,EAAuCc,QAAvC,KAAoD,IADzC;AAEdC,KAAC,EAAEJ,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACK,IAAL,GAAYL,IAAI,CAACQ,KAAL,GAAW,CAAvB,GAA2BhC,IAA3B,GAAkCgB,OAA7C,EAAsDc,QAAtD,KAAmE,IAFxD;AAGdG,KAAC,EAAEN,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACU,KAAL,GAAalC,IAAb,GAAoBgB,OAA/B,EAAwCc,QAAxC,KAAqD;AAH1C,GAAhB;AAKA,MAAMK,OAAO,GAAG;AACdC,KAAC,EAAET,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACa,GAAL,GAAWrC,IAAX,GAAkBkB,OAA7B,EAAsCY,QAAtC,KAAmD,IADxC;AAEdC,KAAC,EAAEJ,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACc,MAAL,GAAcd,IAAI,CAACe,MAAL,GAAY,CAA1B,GAA8BvC,IAA9B,GAAqCkB,OAAhD,EAAyDY,QAAzD,KAAsE,IAF3D;AAGdU,KAAC,EAAEb,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACc,MAAL,GAActC,IAAd,GAAqBkB,OAAhC,EAAyCY,QAAzC,KAAsD;AAH3C,GAAhB;AAMA,MAAMpH,CAAC,GAAG+G,OAAO,CAAChB,OAAD,CAAjB;AACA,MAAMgC,CAAC,GAAGN,OAAO,CAACxB,OAAD,CAAjB;AAEArH,SAAO,CAACC,GAAR,CAAY,wBAAwBmB,CAAC,CAACoH,QAAF,EAAxB,GAAuC,IAAvC,GAA8CW,CAAC,CAACX,QAAF,EAA1D;AAEAR,SAAO,CAACoB,KAAR,CAAcC,OAAd,GAAwB,QAAxB;AACArB,SAAO,CAACoB,KAAR,CAAcE,cAAd,GAA+B,QAA/B;AACAtB,SAAO,CAACoB,KAAR,CAAcG,UAAd,GAA2B,QAA3B;AACAvB,SAAO,CAACoB,KAAR,CAAcI,SAAd,GAA0B,EAA1B;AACAxB,SAAO,CAACoB,KAAR,CAAcK,QAAd,GAAyB,OAAzB;AACAzB,SAAO,CAACoB,KAAR,CAAcL,GAAd,GAAoBI,CAApB;AACAnB,SAAO,CAACoB,KAAR,CAAcb,IAAd,GAAqBnH,CAArB;AACA4G,SAAO,CAACoB,KAAR,CAAcM,MAAd,GAAuB,MAAvB;AAEA5C,OAAK,CAACsC,KAAN,CAAYK,QAAZ,GAAuB,UAAvB;AACA3C,OAAK,CAACsC,KAAN,CAAYC,OAAZ,GAAsB,cAAtB;AACAvC,OAAK,CAACsC,KAAN,CAAYV,KAAZ,GAAoB,CAAC,IAAIhC,IAAL,EAAW8B,QAAX,KAAwB,IAA5C;AACA1B,OAAK,CAACsC,KAAN,CAAYH,MAAZ,GAAqB,CAAC,IAAIvC,IAAL,EAAW8B,QAAX,KAAwB,IAA7C;AACA1B,OAAK,CAACsC,KAAN,CAAYO,YAAZ,GAA2B,KAA3B;AACA7C,OAAK,CAACsC,KAAN,CAAYtB,QAAZ,GAAuBA,QAAQ,CAACU,QAAT,KAAsB,IAA7C;AACA1B,OAAK,CAACsC,KAAN,CAAYQ,SAAZ,GAAwB,QAAxB;AACA9C,OAAK,CAACsC,KAAN,CAAYS,UAAZ,GAAyBpC,KAAzB;AAEAD,OAAK,CAAC4B,KAAN,CAAYK,QAAZ,GAAuB,UAAvB;AACAjC,OAAK,CAAC4B,KAAN,CAAYL,GAAZ,GAAkB,CAAC,CAACrC,IAAI,GAAG,CAAP,GAAWoB,QAAZ,IAAwB,CAAzB,EAA4BU,QAA5B,KAAyC,IAA3D;AACAhB,OAAK,CAACsC,WAAN,GAAoBvC,SAApB;AACAC,OAAK,CAAC4B,KAAN,CAAY3B,KAAZ,GAAoB,OAApB;;AAEA,MAAI;AACFzG,YAAQ,CAACwB,IAAT,CAAcuH,WAAd,CAA0B/B,OAA1B;AACAA,WAAO,CAAC+B,WAAR,CAAoBjD,KAApB;AACAA,SAAK,CAACiD,WAAN,CAAkBvC,KAAlB;AACAtH,UAAM,CAACC,kBAAP,CAA0B6J,IAA1B,CAA+BhC,OAA/B;AACD,GALD,CAKE,OAAM3C,KAAN,EAAa;AACbvB,QAAI,CAAC5B,MAAL,GAAc,QAAd;AACA4B,QAAI,CAACuB,KAAL,GAAaA,KAAb;AACAD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAAS4C,OAAT,CAAiBrD,GAAjB,EAAsB5B,aAAtB,EAAqCqC,OAArC,EAA8C;AAC5C,MAAMH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACA,MAAM7B,QAAQ,GAAGmC,IAAI,CAACvB,OAAL,CAAaZ,QAA9B;AACA,MAAMD,QAAQ,GAAGoC,IAAI,CAACvB,OAAL,CAAab,QAA9B;AACA,MAAMuI,YAAY,GAAGnG,IAAI,CAACkD,UAAL,CAAgBS,KAArC;AACA,MAAMyC,SAAS,GAAGpG,IAAI,CAACkD,UAAL,CAAgBkD,SAAhB,GAA4B,IAA9C;AAEA,MAAM3H,OAAO,GAAGkE,UAAU,CAAC/E,QAAD,EAAWC,QAAX,CAA1B;AAEA,MAAMuG,IAAI,GAAG3F,OAAO,CAACoE,qBAAR,EAAb;AACA,MAAME,OAAO,GAAG7F,QAAQ,CAACiH,aAAT,CAAuB,KAAvB,CAAhB;AAEApB,SAAO,CAACuC,KAAR,CAAcK,QAAd,GAAyB,OAAzB;AACA5C,SAAO,CAACuC,KAAR,CAAcV,KAAd,GAAsBL,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACQ,KAAhB,EAAuBF,QAAvB,KAAoC,IAA1D;AACA3B,SAAO,CAACuC,KAAR,CAAcH,MAAd,GAAuBZ,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACe,MAAhB,EAAwBT,QAAxB,KAAqC,IAA5D;AACA3B,SAAO,CAACuC,KAAR,CAAcvC,OAAd,GAAwBoD,YAAY,GAAG,SAAf,GAA2BC,SAAnD;AACArD,SAAO,CAACuC,KAAR,CAAcL,GAAd,GAAoBV,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACa,GAAhB,EAAqBP,QAArB,KAAkC,IAAtD;AACA3B,SAAO,CAACuC,KAAR,CAAcb,IAAd,GAAqBF,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACK,IAAhB,EAAsBC,QAAtB,KAAmC,IAAxD;AACA3B,SAAO,CAACuC,KAAR,CAAcM,MAAd,GAAuB,KAAvB;;AAEA,MAAI;AACF1I,YAAQ,CAACwB,IAAT,CAAcuH,WAAd,CAA0BlD,OAA1B;AACA3G,UAAM,CAACC,kBAAP,CAA0B6J,IAA1B,CAA+BnD,OAA/B;AACD,GAHD,CAGE,OAAMxB,KAAN,EAAa;AACbvB,QAAI,CAAC5B,MAAL,GAAc,QAAd;AACA4B,QAAI,CAACuB,KAAL,GAAaA,KAAb;AACAD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAASiC,cAAT,CAAwB1C,GAAxB,EAA6B5B,aAA7B,EAA4CqC,OAA5C,EAAqD;AACnD,MAAMkG,cAAc,GAAG3G,GAAG,CAAC2G,cAA3B;AACA,MAAMrG,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AAEAxD,SAAO,CAACC,GAAR,CAAY,iCAAZ;;AACA,MAAI;AACFG,UAAM,CAACgK,IAAP,CAAYC,iBAAZ,CAA8BF,cAA9B,EAA8C,UAAS1I,MAAT,EAAiB;AAC7DzB,aAAO,CAACC,GAAR,CAAY,2BAAZ;AACAD,aAAO,CAACC,GAAR,CAAYwB,MAAZ;;AACA,UAAGA,MAAH,EAAW;AACTqC,YAAI,CAACwG,aAAL,GAAqB7I,MAArB;AACAT,gBAAQ,CACL4D,cADH,CACkB,8BADlB,EAEGE,aAFH,CAEiB,IAAIC,WAAJ,CAAgB,SAAhB,EAA2B;AACxCC,iBAAO,EAAE,KAD+B;AAExCC,gBAAM,EAAEnB;AAFgC,SAA3B,CAFjB;AAMAW,eAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD,OATD,MASO,IAAGxC,MAAM,IAAI8I,SAAb,EAAwB;AAC7BzG,YAAI,CAAC5B,MAAL,GAAc,QAAd;AACA,YAAMmD,KAAK,GAAG,wBAAd;AACAvB,YAAI,CAACuB,KAAL,GAAaA,KAAb;AACAD,gBAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF,KAlBD;AAmBD,GApBD,CAoBE,OAAMoB,KAAN,EAAa;AACbvB,QAAI,CAAC5B,MAAL,GAAc,QAAd;AACA4B,QAAI,CAACuB,KAAL,GAAaA,KAAb;AACAD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAASgC,OAAT,CAAiBzC,GAAjB,EAAsB5B,aAAtB,EAAqCqC,OAArC,EAA8C;AAC5C,MAAMkG,cAAc,GAAG3G,GAAG,CAAC2G,cAA3B;AACA,MAAMrG,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACA,MAAMxB,OAAO,GAAG;AACd0G,SAAK,EAAE5E,IAAI,CAAC4E,KADE;AAEdO,UAAM,EAAEnF,IAAI,CAACmF;AAFC,GAAhB;AAKAjJ,SAAO,CAACC,GAAR,CAAY,qBAAqBkK,cAAjC;AACAnK,SAAO,CAACC,GAAR,CAAY+B,OAAZ;;AAEA,MAAI;AACF5B,UAAM,CAACoK,OAAP,CAAeC,MAAf,CAAsBN,cAAtB,EAAsCnI,OAAtC;AACAyC,WAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD,GAHD,CAGE,OAAMoB,KAAN,EAAa;AACbvB,QAAI,CAAC5B,MAAL,GAAc,QAAd;AACA4B,QAAI,CAACuB,KAAL,GAAaA,KAAb;AACAD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AAEF;;AAED,SAAS6B,QAAT,CAAkBtC,GAAlB,EAAuB5B,aAAvB,EAAsCqC,OAAtC,EAA+C;AAC7C,MAAMyG,WAAW,GAAGlH,GAAG,CAACkH,WAAxB;AACA,MAAM5G,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AAEA,MAAMxB,OAAO,GAAG;AACdnB,OAAG,EAAEiD,IAAI,CAACjD;AADI,GAAhB;AAIA,MAAMsC,UAAU,GAAG,kCAAkCuH,WAArD;AACA1K,SAAO,CAACC,GAAR,CAAYkD,UAAZ;;AAEA,MAAI;AACF/C,UAAM,CAACgK,IAAP,CAAYK,MAAZ,CAAmBC,WAAnB,EAAgC1I,OAAhC,EAAyC,UAASP,MAAT,EAAiB;AACxDzB,aAAO,CAACC,GAAR,CAAY,sBAAZ;AACAwE,aAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD,KAHD;AAID,GALD,CAKE,OAAOoB,KAAP,EAAc;AACdvB,QAAI,CAAC5B,MAAL,GAAc,QAAd;AACA4B,QAAI,CAACuB,KAAL,GAAaA,KAAb;AACAD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAAS+B,SAAT,CAAmBxC,GAAnB,EAAwB5B,aAAxB,EAAuCqC,OAAvC,EAAgD;AAC9CjE,SAAO,CAACC,GAAR,CAAY,iBAAZ;AACA,MAAM6D,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACA,MAAM7B,QAAQ,GAAGmC,IAAI,CAACvB,OAAL,CAAaZ,QAA9B;AACA,MAAMD,QAAQ,GAAGoC,IAAI,CAACvB,OAAL,CAAab,QAA9B;AACA,MAAMiJ,IAAI,GAAG7G,IAAI,CAAC6G,IAAlB;AACA,MAAMpI,OAAO,GAAGkE,UAAU,CAAC/E,QAAD,EAAWC,QAAX,CAA1B;AACA,MAAMT,KAAK,GAAG,IAAI0J,KAAJ,CAAU,OAAV,EAAmB;AAAE5F,WAAO,EAAE;AAAX,GAAnB,CAAd;;AAEA,MAAI;AACFhF,WAAO,CAACC,GAAR,CAAY,kBAAZ;AACAsC,WAAO,CAACsI,KAAR,GAAgBF,IAAhB;AACApI,WAAO,CAACuC,aAAR,CAAsB5D,KAAtB;AACAuD,WAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD,GALD,CAKE,OAAOoB,KAAP,EAAc;AACdvB,QAAI,CAAC5B,MAAL,GAAc,QAAd;AACA4B,QAAI,CAACuB,KAAL,GAAaA,KAAb;AACAD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAAS8B,WAAT,CAAqBvC,GAArB,EAA0B5B,aAA1B,EAAyCqC,OAAzC,EAAkD;AAChDjE,SAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,MAAMyK,WAAW,GAAGlH,GAAG,CAACkH,WAAxB;AAEA,MAAII,OAAO,GAAGC,UAAU,CAAC,YAAU;AACjCC,iBAAa,CAACC,QAAD,CAAb;AACAjL,WAAO,CAACC,GAAR,CAAY,WAAZ;AACAmF,YAAQ,CAAC5B,GAAD,EAAM,iBAAN,EAAyB5B,aAAzB,EAAwCqC,OAAxC,CAAR;AACA,GAJsB,EAIpB,IAJoB,CAAxB;AAMA,MAAIgH,QAAQ,GAAGC,WAAW,CAAC,YAAU;AACnC9K,UAAM,CAACgK,IAAP,CAAY5I,GAAZ,CAAgBkJ,WAAhB,EAA6B,UAASS,CAAT,EAAY;AACvC,UAAGA,CAAC,CAACjJ,MAAF,IAAY,UAAf,EAA2B;AACzBkJ,oBAAY,CAACN,OAAD,CAAZ;AACAE,qBAAa,CAACC,QAAD,CAAb;AACAjL,eAAO,CAACC,GAAR,CAAY,aAAZ;AACAwE,eAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD;AACF,KAPD;AAQD,GATyB,EASvB,GATuB,CAA1B;AAUD;;AAGD,SAASuB,SAAT,CAAmBhC,GAAnB,EAAwB5B,aAAxB,EAAuCqC,OAAvC,EAAgD;AAC9C,MAAIH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAvB,CAD8C,CAE9C;;AACA,MAAMkB,eAAe,GAAG,UAAUZ,IAAI,CAAC7B,EAAf,GAAoB,SAA5C;AACA,MAAM0C,YAAY,GAAG3D,QAAQ,CAAC4D,cAAT,CAAwBF,eAAxB,CAArB;AACA,MAAM8B,UAAU,GAAGpC,kBAAkB,CAACZ,GAAD,CAArC;AACA,MAAMpB,KAAK,GAAGoB,GAAG,CAACrB,OAAJ,CAAYC,KAA1B;AAEApC,SAAO,CAACC,GAAR,CAAY,gBAAgB6D,IAAI,CAAC/B,IAArB,GAA4B,OAAxC;AAEA+B,MAAI,CAAC5B,MAAL,GAAc,SAAd;AACA4B,MAAI,CAACe,UAAL,GAAkBH,eAAlB;;AAEA,MAAI;AACFC,gBAAY,CAACG,aAAb,CAA2B,IAAIC,WAAJ,CAAgB,SAAhB,EAA2B;AACpDC,aAAO,EAAE,KAD2C;AAEpDC,YAAM,EAAEnB;AAF4C,KAA3B,CAA3B;AAIA1B,SAAK,CAACoE,UAAD,CAAL,GAAoB1C,IAApB;AACAW,WAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD,GAPD,CAOE,OAAMoB,KAAN,EAAa;AACbD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAAS4B,YAAT,CAAsBrC,GAAtB,EAA2B5B,aAA3B,EAA0CqC,OAA1C,EAAmD;AACjD,MAAIH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAvB;AACA,MAAMgD,UAAU,GAAGpC,kBAAkB,CAACZ,GAAD,CAArC,CAFiD,CAGjD;;AACA,MAAMkB,eAAe,GAAG,UAAUZ,IAAI,CAAC7B,EAAf,GAAoB,SAA5C;AACA,MAAM0C,YAAY,GAAG3D,QAAQ,CAAC4D,cAAT,CAAwBF,eAAxB,CAArB;AACA,MAAMxD,KAAK,GAAG,IAAI6D,WAAJ,CAAgB,SAAhB,EAA2B;AAACC,WAAO,EAAE,KAAV;AAAiBC,UAAM,EAAEnB;AAAzB,GAA3B,CAAd;AACA,MAAM1B,KAAK,GAAGoB,GAAG,CAACrB,OAAJ,CAAYC,KAA1B;AAEA,MAAMe,UAAU,GAAG,qBAAqBuB,eAAxC;AACA1E,SAAO,CAACC,GAAR,CAAYkD,UAAZ;AAEAW,MAAI,CAAC5B,MAAL,GAAc,UAAd;;AAEA,MAAI;AACFyC,gBAAY,CAACG,aAAb,CAA2B5D,KAA3B;AACA,QAAImK,SAAS,GAAGjJ,KAAK,CAACoE,UAAU,GAAG,CAAd,CAArB;AACAxG,WAAO,CAACC,GAAR,CAAYoL,SAAZ;;AACA,QAAIA,SAAJ,EAAe;AACb;AACA7H,SAAG,CAACC,eAAJ,GAAsB4H,SAAS,CAACpJ,EAAhC;AACAuB,SAAG,CAACE,gBAAJ,GAAuB,CAAvB;AACAO,aAAO,CAACT,GAAD,EAAM5B,aAAN,CAAP;AACD,KALD,MAKO;AACL;AACA0J,iBAAW,CAAC9H,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAX;AACD;AACF,GAbD,CAaE,OAAMoB,KAAN,EAAa;AACbD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAASqH,WAAT,CAAqB9H,GAArB,EAA0B5B,aAA1B,EAAyCqC,OAAzC,EAAkD;AAChDT,KAAG,CAACtB,MAAJ,GAAa,UAAb;AACA+B,SAAO,CAACT,GAAD,EAAM5B,aAAN,CAAP;AACD;;AAGD,SAAS6D,aAAT,CAAuBjC,GAAvB,EAA4B5B,aAA5B,EAA2CqC,OAA3C,EAAoD;AAClDjE,SAAO,CAACC,GAAR,CAAY,iBAAZ;;AACA,MAAG2B,aAAa,CAACb,WAAd,IAA6B,WAAhC,EAA6C;AAC3Cf,WAAO,CAACC,GAAR,CAAY,oBAAZ,EAD2C,CAE3C;;AACA,QAAM6B,OAAO,GAAG;AACdC,UAAI,EAAEyB,GAAG,CAACzB,IADI;AAEdC,aAAO,EAAEwB;AAFK,KAAhB;;AAIA,QAAI;AACFA,SAAG,CAACE,gBAAJ,GAAuBF,GAAG,CAACE,gBAAJ,GAAuB,CAA9C;AACAtD,YAAM,CAACgK,IAAP,CAAY7E,WAAZ,CAAwB/B,GAAG,CAACkH,WAA5B,EAAyC5I,OAAzC;AACA9B,aAAO,CAACC,GAAR,CAAY,sBAAZ;AACD,KAJD,CAIE,OAAMoF,KAAN,EAAa;AACbD,cAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF,GAdD,MAcO;AACLQ,WAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD;AACF;;AAED,SAAS2B,eAAT,CAAyBpC,GAAzB,EAA8B5B,aAA9B,EAA6CqC,OAA7C,EAAsD;AACpDjE,SAAO,CAACC,GAAR,CAAY,mBAAZ;;AACA,MAAG2B,aAAa,CAACb,WAAd,IAA6B,SAAhC,EAA2C;AACzCf,WAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,QAAM6B,OAAO,GAAG;AACdC,UAAI,EAAEyB,GAAG,CAACzB,IADI;AAEdC,aAAO,EAAEwB;AAFK,KAAhB;;AAKA,QAAI;AACFA,SAAG,CAACE,gBAAJ,GAAuBF,GAAG,CAACE,gBAAJ,GAAuB,CAA9C;AACAtD,YAAM,CAACC,OAAP,CAAekF,WAAf,CAA2BzD,OAA3B;AACA9B,aAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,KAJD,CAIE,OAAMoF,KAAN,EAAa;AACbD,cAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF,GAdD,MAcO;AACLQ,WAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD;AACF;;AAED,SAASyB,cAAT,CAAwBlC,GAAxB,EAA6B5B,aAA7B,EAA4CqC,OAA5C,EAAqD;AACnD,MAAIH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAvB;AAEA,MAAM7B,QAAQ,GAAGmC,IAAI,CAACvB,OAAL,CAAaZ,QAA9B;AACA,MAAMD,QAAQ,GAAGoC,IAAI,CAACvB,OAAL,CAAab,QAA9B;AAEA1B,SAAO,CAACC,GAAR,CAAYyB,QAAZ;AAEA,MAAIa,OAAO,GAAG,IAAd;AAEA,MAAMY,UAAU,GAAG,oCAAoCzB,QAAQ,CAACG,IAA7C,GAAoD,aAApD,GAAoEF,QAAvF;AACA3B,SAAO,CAACC,GAAR,CAAYkD,UAAZ;AAEA,MAAI2H,OAAO,GAAGC,UAAU,CAAC,YAAU;AACjCC,iBAAa,CAACC,QAAD,CAAb;AACA7F,YAAQ,CAAC5B,GAAD,EAAM,mBAAN,EAA2B5B,aAA3B,EAA0CqC,OAA1C,CAAR;AACA,GAHsB,EAGpB,IAHoB,CAAxB;AAIA,MAAIgH,QAAQ,GAAGC,WAAW,CAAC,YAAU;AACnC3I,WAAO,GAAGkE,UAAU,CAAC/E,QAAD,EAAWC,QAAX,CAApB;;AACA,QAAGY,OAAH,EAAY;AACVuB,UAAI,CAAC5B,MAAL,GAAc,mBAAd;AACAkJ,kBAAY,CAACN,OAAD,CAAZ;AACAE,mBAAa,CAACC,QAAD,CAAb;AACAjL,aAAO,CAACC,GAAR,CAAYsC,OAAZ;AACAvC,aAAO,CAACC,GAAR,CAAY,OAAZ;AACAwE,aAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD;AACF,GAVyB,EAUvB,GAVuB,CAA1B;AAWD;;AAED,SAAS0B,KAAT,CAAenC,GAAf,EAAoB5B,aAApB,EAAmCqC,OAAnC,EAA4C;AAC1C,MAAMH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACA,MAAM7B,QAAQ,GAAGmC,IAAI,CAACvB,OAAL,CAAaZ,QAA9B;AACA,MAAMD,QAAQ,GAAGoC,IAAI,CAACvB,OAAL,CAAab,QAA9B;;AAEA,MAAI;AACF1B,WAAO,CAACC,GAAR,CAAY,iBAAZ;AACAwG,cAAU,CAAC/E,QAAD,EAAWC,QAAX,CAAV,CACGgE,KADH;AAEAlB,WAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD,GALD,CAKE,OAAOoB,KAAP,EAAc;AACdvB,QAAI,CAAC5B,MAAL,GAAc,QAAd;AACA4B,QAAI,CAACuB,KAAL,GAAaA,KAAb;AACAD,YAAQ,CAAC5B,GAAD,EAAM6B,KAAN,EAAazD,aAAb,EAA4BqC,OAA5B,CAAR;AACD;AACF;;AAED,SAASwC,UAAT,CAAoB/E,QAApB,EAA8BC,QAA9B,EAAwC;AACtC3B,SAAO,CAACC,GAAR,CAAY,mCAAmCyB,QAAQ,CAACG,IAA5C,GAAmD,gBAAnD,GAAsEF,QAAlF;AACA,MAAIY,OAAO,GAAG,IAAd;;AAEA,MAAGb,QAAQ,CAACG,IAAT,IAAiB,OAApB,EAA6B;AAC3BU,WAAO,GAAGvB,QAAQ,CAACuK,QAAT,CACR5J,QADQ,EAERX,QAFQ,EAGR,IAHQ,EAIRwK,WAAW,CAACC,uBAJJ,EAKR,IALQ,EAKFC,eALR;AAMD,GAPD,MAOO,IAAIhK,QAAQ,CAACG,IAAT,IAAiB,IAArB,EAA2B;AAChCU,WAAO,GAAGvB,QAAQ,CAAC4D,cAAT,CAAwBjD,QAAxB,CAAV;AACD,GAFM,MAEA,IAAID,QAAQ,CAACG,IAAT,IAAiB,KAArB,EAA4B;AACjCU,WAAO,GAAGvB,QAAQ,CAAC2K,aAAT,CAAuBhK,QAAvB,CAAV;AACD;;AACD3B,SAAO,CAACC,GAAR,CAAYsC,OAAZ;AACA,SAAOA,OAAP;AACD;;AAED,SAASqJ,WAAT,CAAqBpI,GAArB,EAA0B5B,aAA1B,EAAyCqC,OAAzC,EAAkD;AAChDjE,SAAO,CAACC,GAAR,CAAY,kBAAZ;AACAwE,SAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD;;AAED,SAASqC,WAAT,CAAqB9C,GAArB,EAA0B5B,aAA1B,EAAyCqC,OAAzC,EAAkD;AAChD,MAAMH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AAEA,MAAMxB,OAAO,GAAG;AACdL,YAAQ,EAAEmC,IAAI,CAACnC,QADD;AAEdD,YAAQ,EAAEoC,IAAI,CAACpC;AAFD,GAAhB;AAKA1B,SAAO,CAACC,GAAR,CAAY,yBAAyB+B,OAAO,CAACN,QAAjC,GAA4C,mBAA5C,GAAkEM,OAAO,CAACL,QAAtF;AAEAX,UAAQ,CACL4D,cADH,CACkB,kBADlB,EAEGE,aAFH,CAEiB,IAAIC,WAAJ,CAAgB,UAAhB,EAA4B;AACzCC,WAAO,EAAE,KADgC;AAEzCC,UAAM,EAAEjD;AAFiC,GAA5B,CAFjB;AAOAyC,SAAO,CAACjB,GAAD,EAAM5B,aAAN,EAAqBqC,OAArB,CAAP;AACD;;AAED,SAASsC,YAAT,CAAsB/C,GAAtB,EAA2B5B,aAA3B,EAA0CqC,OAA1C,EAAmD;AACjD,MAAMH,IAAI,GAAGC,YAAY,CAACP,GAAD,CAAzB;AACA,MAAM7B,QAAQ,GAAGmC,IAAI,CAACnC,QAAtB;AACA,MAAMD,QAAQ,GAAGoC,IAAI,CAACpC,QAAtB;AACA1B,SAAO,CAACC,GAAR,CAAY,gBAAgByB,QAAhB,GAA2B,YAA3B,GAA0CC,QAAtD;AACA3B,SAAO,CAACC,GAAR,CAAY6D,IAAZ;;AAEA,MAAIpC,QAAQ,CAACG,IAAT,KAAkB,OAAtB,EAA+B;AAC7B7B,WAAO,CAACC,GAAR,CAAY,OAAZ;AAEAe,YAAQ,CACLuK,QADH,CACY5J,QADZ,EACsBX,QADtB,EACgC,IADhC,EACsCwK,WAAW,CAACC,uBADlD,EAC2E,IAD3E,EAEGC,eAFH,CAGGtC,KAHH,CAIGyC,eAJH,GAIqB,SAJrB;AAMD,GATD,MASO,IAAInK,QAAQ,CAACG,IAAT,KAAkB,KAAtB,EAA6B;AAElCb,YAAQ,CACL2K,aADH,CACiBhK,QADjB,EAEGyH,KAFH,CAGGyC,eAHH,GAGqB,SAHrB;AAID;AACF;;;;;;;;;;;;;ACjuBD,eAAe,KAAiD,oBAAoB,SAAuI,CAAC,oBAAoB,mBAAmB,SAAS,cAAc,4BAA4B,YAAY,qBAAqB,2DAA2D,uCAAuC,qCAAqC,oBAAoB,EAAE,iBAAiB,4FAA4F,eAAe,wCAAwC,SAAS,EAAE,mBAAmB,8BAA8B,qDAAqD,0BAA0B,6CAA6C,sBAAsB,6DAA6D,YAAY,eAAe,SAAS,iBAAiB,iCAAiC,iBAAiB,YAAY,UAAU,sBAAsB,mBAAmB,iDAAiD,iBAAiB,kBAAkB,WAAW,kBAAkB,kCAAkC,sBAAsB,eAAe,sCAAsC,KAAK,uIAAuI,IAAI,+BAA+B,uBAAuB,UAAU,4EAA4E,cAAc,kFAAkF,MAAM,SAAS,eAAe,qBAAqB,YAAY,KAAK,mBAAmB,KAAK,mBAAmB,wCAAwC,UAAU,sCAAsC,iBAAiB,aAAa,OAAO,8EAA8E,gBAAgB,aAAa,8EAA8E,eAAe,gIAAgI,cAAc,mBAAmB,oCAAoC,WAAW,oEAAoE,SAAS,cAAc,uBAAuB,IAAI,4CAA4C,EAAE,OAAO,uIAAuI,6JAA6J,cAAc,mBAAmB,qBAAqB,kCAAkC,WAAW,cAAc,UAAU,iBAAiB,+GAA+G,gBAAgB,uEAAuE,GAAG,aAAa,uEAAuE,8BAA8B,uBAAuB,oBAAoB,GAAG,mCAAmC,yBAAyB,GAAG,cAAc,wBAAwB,0CAA0C,aAAa,gEAAgE,wCAAwC,yBAAyB,uCAAuC,aAAa,qBAAqB,gBAAgB,8FAA8F,8BAA8B,cAAc,+EAA+E,YAAY,6BAA6B,SAAS,cAAc,8CAA8C,cAAc,mCAAmC,cAAc,mBAAmB,qBAAqB,kCAAkC,WAAW,cAAc,UAAU,iBAAiB,+GAA+G,gBAAgB,uEAAuE,GAAG,+BAA+B,cAAc,+BAA+B,2CAA2C,cAAc,iBAAiB,iBAAiB,cAAc,mBAAmB,qBAAqB,kCAAkC,WAAW,cAAc,UAAU,iBAAiB,+GAA+G,gBAAgB,uEAAuE,GAAG,sEAAsE,EAAE,QAAQ,WAAW,aAAa,gEAAgE,oCAAoC,uFAAuF,YAAY,OAAO,qBAAqB,kDAAkD,gDAAgD,mBAAmB,4EAA4E,iBAAiB,oBAAoB,uBAAuB,GAAG,uBAAuB,wCAAwC,kCAAkC,gCAAgC,yCAAyC,WAAW,qEAAqE,WAAW,gBAAgB,wCAAwC,mBAAmB,+DAA+D,sFAAsF,UAAU,GAAG,oBAAoB,uBAAuB,eAAe,wBAAwB,WAAW,qBAAqB,iBAAiB,QAAQ,uBAAuB,aAAa,GAAG,eAAe,wEAAwE,mBAAmB,gDAAgD,qCAAqC,SAAS,0BAA0B,iBAAiB,yGAAyG,6BAA6B,4BAA4B,0BAA0B,GAAG,YAAY,kJAAkJ,6BAA6B,6BAA6B,GAAG,eAAe,wBAAwB,SAAS,KAAK,cAAc,sCAAsC,UAAU,KAAK,IAAI,EAAE,iDAAiD,WAAW,KAAK,WAAW,gCAAgC,QAAQ,UAAU,cAAc,+EAA+E,gBAAgB,6BAA6B,aAAa,gEAAgE,0BAA0B,cAAc,YAAY,gBAAgB,+BAA+B,eAAe,yBAAyB,cAAc,gEAAgE,uBAAuB,SAAS,cAAc,mEAAmE,iCAAiC,WAAW,KAAK,qBAAqB,oBAAoB,0BAA0B,mBAAmB,mCAAmC,SAAS,GAAG,YAAY,GAAG,G;;;;;;;;;;;ACAxoP;AACA;;AAEA,CAAC;;AAED,MAAM,IAA0C;AAChD,IAAI,oCAAO,OAAO;AAAA;AAAA;AAAA;AAAA,oGAAC;AACnB,GAAG,MAAM,EAIN;;AAEH,CAAC;AACD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yBAAyB;;AAEzB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,uB;AACA;AACA;AACA,SAAS;AACT,6BAA6B;;AAE7B;AACA,yB;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;;AAEP;AACA;;AAEA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gBAAgB;AAChB,KAAK;AACL,gBAAgB;AAChB,KAAK;AACL,gBAAgB;AAChB;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC","file":"browser_bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./js/browser.js\");\n","\r\nimport {main} from \"./browser_main.js\"\r\n\r\nmain()","import getCssSelector from 'css-selector-generator';\r\nimport {handle_message} from \"../../../process_administrator_web/assets/js/commands.js\";\r\n\r\nconst getCssSelectorOptions = {\r\n  selectors: [\"class\", \"tag\", \"attribute\", \"nthchild\"]\r\n}\r\n\r\nvar XPATH = null\r\nvar CSSS = null\r\n\r\nconst XPATH_STRATEGY_TYPE = 1\r\nconst CSS_STRATEGY_TYPE = 2\r\n\r\nfunction main() {\r\n  console.log(\"Initializing Browser stuff\")\r\n  \r\n  window.active_annotations = []\r\n  \r\n  chrome.runtime.onMessage.addListener(function(request, sender, sendResponse) {\r\n    var logSuffix = sender.tab ? \"from a content script:\" + sender.tab.url : \"from the extension\"\r\n    console.log(\"Browser received message \" + logSuffix)\r\n    handle_message(request, { environment: 'browser'})\r\n  });\r\n  \r\n  document.onmouseover = function(event) {\r\n    // const el =  event.target;\r\n  \r\n    // console.log(el)\r\n    // console.log(getCssSelector(el, getCssSelectorOptions))\r\n    // CSSS = getCssSelector(el, getCssSelectorOptions);\r\n    // XPATH = getPathTo(event.target);\r\n  }\r\n  \r\n  document.onkeydown = function(event) {\r\n    const x = event.keyCode;\r\n    if (x === 67) {\r\n      chrome.storage.local.get(['strategy'], function (result) {\r\n        console.log(\"Retreived configuration value\")\r\n        console.log(result.strategy);\r\n\r\n        var selector\r\n  \r\n        const configuration = {\r\n          environment: 'browser',\r\n          strategy: result.strategy\r\n        }\r\n\r\n        if (result.strategy.name === 'xpath') {\r\n          selector = XPATH\r\n        } else if (result.strategy.name === 'css') {\r\n          selector = CSSS\r\n        }\r\n  \r\n        const message = {\r\n          type: 'step',\r\n          payload: {\r\n            id: 0,\r\n            status: 'not_started',\r\n            process: {\r\n              steps: [\r\n                {\r\n                  id: 0,\r\n                  selector: selector,\r\n                  strategy: result.strategy,\r\n                  step_type: {\r\n                    name: \"Set Selector\"\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          }\r\n        }\r\n  \r\n        handle_message(message, configuration)\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\n  \r\nfunction getPathTo(element) {\r\n  if (element === document.body)\r\n      return element.tagName.toLowerCase();\r\n\r\n  var ix= 0;\r\n  var siblings= element.parentNode.childNodes;\r\n  for (var i= 0; i<siblings.length; i++) {\r\n      var sibling= siblings[i];\r\n      \r\n      if (sibling===element) return getPathTo(element.parentNode) + '/' + element.tagName.toLowerCase() + '[' + (ix + 1) + ']';\r\n      \r\n      if (sibling.nodeType===1 && sibling.tagName === element.tagName) {\r\n          ix++;\r\n      }\r\n  }\r\n}\r\n\r\n\r\nexport {main}","import { configure } from \"nprogress\"\r\n\r\nfunction handle_message(message, configuration) {\r\n  const log_string = \"Received \" + message.type + \" message.  \"\r\n  console.log(log_string)\r\n  if (message.type == 'process') {\r\n    message.payload.type = 'process'\r\n    handle_job(message.payload, configuration)\r\n  } else if (message.type == 'step') {\r\n    message.payload.type = 'step'\r\n    handle_step(message.payload, configuration)\r\n  } else if (message.type == 'configuration') {\r\n    configure_environment(message.payload)\r\n  }\r\n}\r\n\r\nfunction configure_environment(payload) {\r\n  console.log(\"Current Configuration\") \r\n  chrome.storage.local.set({strategy: payload.strategy}, function() {\r\n    console.log('Selector Strategy is set to ' + payload.strategy.name);\r\n  });\r\n}\r\n\r\nfunction handle_job(job, configuration) {\r\n  const status = job.status\r\n\r\n  const log_string = \"handling job \" + job.id + \" step \" + job.current_step_id + \" sequence \" + job.current_sequence + \" status \" + status\r\n  console.log(log_string)\r\n\r\n  if (status === 'not_started') {\r\n    start_job(job, configuration, handle_job)\r\n    updateJobStatus(job)\r\n  } else if (status == 'running') {\r\n    run_current_step(job, configuration, handle_job)\r\n  } else if (status == 'failed') {\r\n    const step = current_step(job)\r\n    updateStepStatus(step)\r\n    updateJobStatus(job)\r\n  } else if (status == 'complete') {\r\n    const step = current_step(job)\r\n    updateStepStatus(step)\r\n    updateJobStatus(job)\r\n  }\r\n}\r\n\r\nfunction handle_step(job, configuration) {\r\n  const status = job.status\r\n  console.log(\"Handling Step\")\r\n  console.log(job)\r\n  if (status === 'not_started') {\r\n    start_job(job, configuration, handle_step)\r\n  } else if (status == 'running') {\r\n    run_current_step(job, configuration, handle_step)\r\n  } else if (status == 'failed') {\r\n    const step = current_step(job)\r\n    updateStepStatus(step)\r\n  } else if (status == 'complete') {\r\n    const step = current_step(job)\r\n    updateStepStatus(step)\r\n  }\r\n}\r\n\r\nfunction start_job(job, configuration, proceed) {\r\n  const steps = job.process.steps\r\n\r\n  const log_string = \"Starting Job\"\r\n  console.log(log_string)\r\n\r\n  job.status = 'running'\r\n  job.current_step_id = steps[0].id\r\n  job.current_sequence = 1\r\n\r\n  proceed(job, configuration)\r\n}\r\n\r\nfunction run_current_step(job, configuration, proceed) {\r\n  var step = current_step(job)\r\n  var apply = current_sequence(job, step)\r\n\r\n  apply(job, configuration, proceed)\r\n}\r\n\r\nfunction current_step(job) {\r\n  const steps = job.process.steps\r\n  return steps.filter(step => step.id === job.current_step_id)[0]\r\n}\r\n\r\nfunction current_step_index(job) {\r\n  const steps = job.process.steps\r\n  return steps.findIndex(step => step.id === job.current_step_id)\r\n}\r\n\r\nfunction current_sequence(job, step) {\r\n  const log_string = \"Locating current sequence of \" + step.step_type.name\r\n  console.log(step)\r\n  const step_type_name = step.step_type.name\r\n  const sequence_id = job.current_sequence\r\n\r\n  return commands()[step_type_name][sequence_id]\r\n}\r\n\r\nfunction success(job, configuration, proceed) { \r\n  console.log(\"Step Succeeded\")\r\n  job.current_sequence = job.current_sequence + 1\r\n  proceed(job, configuration)\r\n}\r\n\r\nfunction updateStepStatus(step) {\r\n  // # TODO: Remove this convention and replace with something I pass in\r\n  console.log(\"Updating step status\")\r\n  const step_element_id = \"step-\" + step.id + \"-runner\"\r\n  var step_element = document.getElementById(step_element_id)\r\n  \r\n  step.element_id = step_element_id\r\n\r\n  console.log(step)\r\n\r\n  step_element.dispatchEvent(new CustomEvent(\"message\", {\r\n    bubbles: false,\r\n    detail: step\r\n  }))\r\n}\r\n\r\nfunction updateJobStatus(job) {\r\n  // # TODO: Remove this convention and replace with something I pass in\r\n  console.log(\"Updating Job Status\")\r\n  const job_element_id = \"process-\" + job.process.id + \"-runner\"\r\n  var job_element = document.getElementById(job_element_id)\r\n\r\n  job.element_id = job_element_id\r\n\r\n  job_element.dispatchEvent(new CustomEvent(\"message\", {\r\n    bubbles: false,\r\n    detail: job\r\n  }))\r\n}\r\n\r\nfunction failStep(job, error, configuration, proceed) {\r\n  console.log(\"Step Failed\")\r\n  console.log(error)\r\n  var step = current_step(job)\r\n  step.status = \"failed\"\r\n  step.error = error\r\n\r\n  if(configuration.environment == 'extension') {\r\n    console.log(\"In Extension\")\r\n    failJob(job, \"Step \" + step.id + \" failed\", configuration, proceed)\r\n  } else if (configuration.environment == 'browser') {\r\n    console.log(\"In Browser\")\r\n    failJob(job, \"Step \" + step.id + \" failed\", configuration, proceed)\r\n  }\r\n\r\n}\r\n\r\nfunction failJob(job, error, configuration, proceed) {\r\n  console.log(\"Job Failed\")\r\n  job.status = \"failed\"\r\n  job.error = error\r\n\r\n  if(configuration.environment == 'extension') {\r\n    proceed(job, configuration)\r\n  } else if (configuration.environment == 'browser') {\r\n    chrome.runtime.sendMessage(job)\r\n  }\r\n}\r\n\r\nfunction commands() {\r\n  return {\r\n    \"Click\": {\r\n      1: startStep,\r\n      2: sendToBrowser,\r\n      3: waitForElement,\r\n      4: click,\r\n      5: sendToExtension,\r\n      6: completeStep\r\n    },\r\n    \"Navigate\": {\r\n      1: startStep,\r\n      2: navigate,\r\n      3: waitForLoad,\r\n      4: completeStep\r\n    },\r\n    \"Fill Field\": {\r\n      1: startStep,\r\n      2: sendToBrowser,\r\n      3: waitForElement,\r\n      4: fillField,\r\n      5: sendToExtension,\r\n      6: completeStep\r\n    },\r\n    \"Set Size Explicit\": {\r\n      1: startStep,\r\n      2: setSize,\r\n      3: completeStep\r\n    },\r\n    \"Full Screen Screenshot\": {\r\n      1: startStep,\r\n      2: fullScreenShot,\r\n      3: completeStep\r\n    },\r\n    \"Element Screenshot\": {\r\n      1: startStep,\r\n      2: sendToBrowser,\r\n      3: collectElementDimensions,\r\n      4: sendToExtension,\r\n      5: fullScreenShot,\r\n      6: completeStep\r\n    },\r\n    \"Apply Annotation\": {\r\n      1: startStep,\r\n      2: sendToBrowser,\r\n      3: waitForElement,\r\n      4: applyAnnotation,\r\n      5: sendToExtension,\r\n      6: completeStep\r\n    },\r\n    \"Clear Annotations\": {\r\n      1: startStep,\r\n      2: sendToBrowser,\r\n      3: clearAnnotations,\r\n      4: sendToExtension,\r\n      5: completeStep\r\n    },\r\n    \"Set Selector\": {\r\n      1: sendToExtension,\r\n      2: setSelector\r\n    },\r\n    \"Test Selector\": {\r\n      1: sendToBrowser,\r\n      2: testSelector\r\n    }\r\n  }\r\n}\r\n\r\nfunction collectElementDimensions(job, configuration, proceed) {\r\n  const step = current_step(job)\r\n  const step_index = current_step_index(job)\r\n\r\n  const selector = step.element.selector\r\n  const strategy = step.element.strategy\r\n  const element = getElement(strategy, selector)\r\n\r\n  step.element.size = element.getBoundingClientRect()\r\n  job.process.steps[step_index] = step\r\n  \r\n  success(job, configuration, proceed)\r\n}\r\n\r\nfunction annotations() {\r\n  return {\r\n    \"Outline\": outline,\r\n    \"Badge\": badge\r\n  }\r\n}\r\n\r\nfunction clearAnnotations(job, configuration, proceed) {\r\n  const step = current_step(job)\r\n\r\n  try {\r\n    for (let i = 0; i < window.active_annotations.length; i++) {\r\n      document.body.removeChild(window.active_annotations[i]);\r\n    }\r\n    window.active_annotations = []\r\n    success(job, configuration, proceed)\r\n  } catch(error) {\r\n    step.status = \"failed\"\r\n    step.error = error\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction applyAnnotation(job, configuration, proceed) {\r\n  const step = current_step(job)\r\n  const name = step.annotation.annotation_type.name\r\n  console.log(\"applying annotation\")\r\n  /*\r\n  console.log(step)\r\n  console.log(step.annotation.annotation_type.name)\r\n  console.log(annotations())\r\n  */\r\n  var apply = annotations()[name]\r\n  try {\r\n    apply(job, configuration, proceed)\r\n    success(job, configuration, proceed)\r\n  } catch(error) {\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction blur(job, configuration) {\r\n\r\n}\r\n\r\nfunction badge(job, configuration, proceed) {\r\n  console.log(\"Applying badge annotation\")\r\n  const step = current_step(job)\r\n  const selector = step.element.selector\r\n  const strategy = step.element.strategy\r\n  const element = getElement(strategy, selector)\r\n\r\n  var badge_x = step.annotation.x_orientation\r\n  var badge_y = step.annotation.y_orientation\r\n  var size = step.annotation.size\r\n  var labelText = step.annotation.label\r\n  var color = step.annotation.color\r\n  var xOffset = step.annotation.x_offset\r\n  var yOffset = step.annotation.y_offset\r\n  var fontSize = step.annotation.font_size;\r\n\r\n  var wrapper = document.createElement('div');\r\n  var badge = document.createElement('span');\r\n  var label = document.createElement('span');\r\n\r\n  const rect = element.getBoundingClientRect();\r\n\r\n  const x_calcs = {\r\n    L: Math.round(rect.left - size + xOffset).toString() + 'px',\r\n    M: Math.round(rect.left + rect.width/2 - size + xOffset).toString() + 'px',\r\n    R: Math.round(rect.right - size + xOffset).toString() + 'px'\r\n  }\r\n  const y_calcs = {\r\n    T: Math.round(rect.top - size + yOffset).toString() + 'px',\r\n    M: Math.round(rect.bottom - rect.height/2 - size + yOffset).toString() + 'px',\r\n    B: Math.round(rect.bottom - size + yOffset).toString() + 'px'\r\n  }\r\n\r\n  const x = x_calcs[badge_x]\r\n  const y = y_calcs[badge_y]\r\n\r\n  console.log(\"Placing a badge at \" + x.toString() + \", \" + y.toString())\r\n\r\n  wrapper.style.display = 'static';\r\n  wrapper.style.justifyContent = 'center';\r\n  wrapper.style.alignItems = 'center';\r\n  wrapper.style.minHeight = '';\r\n  wrapper.style.position = 'fixed';\r\n  wrapper.style.top = y;\r\n  wrapper.style.left = x;\r\n  wrapper.style.zIndex = 999999;\r\n\r\n  badge.style.position = 'relative';\r\n  badge.style.display = 'inline-table';\r\n  badge.style.width = (2 * size).toString() + 'px';\r\n  badge.style.height = (2 * size).toString() + 'px';\r\n  badge.style.borderRadius = '50%';\r\n  badge.style.fontSize = fontSize.toString() + 'px';\r\n  badge.style.textAlign = 'center';\r\n  badge.style.background = color;\r\n\r\n  label.style.position = 'relative';\r\n  label.style.top = ((size * 2 - fontSize) / 2).toString() + 'px';\r\n  label.textContent = labelText;\r\n  label.style.color = 'white';\r\n\r\n  try {\r\n    document.body.appendChild(wrapper);\r\n    wrapper.appendChild(badge); \r\n    badge.appendChild(label);\r\n    window.active_annotations.push(wrapper);\r\n  } catch(error) {\r\n    step.status = \"failed\"\r\n    step.error = error\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction outline(job, configuration, proceed) {\r\n  const step = current_step(job)\r\n  const selector = step.element.selector\r\n  const strategy = step.element.strategy\r\n  const outlineColor = step.annotation.color\r\n  const thickness = step.annotation.thickness + 'px';\r\n\r\n  const element = getElement(strategy, selector)\r\n\r\n  const rect = element.getBoundingClientRect();\r\n  const outline = document.createElement('div');\r\n  \r\n  outline.style.position = 'fixed';\r\n  outline.style.width = Math.round(rect.width).toString() + 'px'\r\n  outline.style.height = Math.round(rect.height).toString() + 'px'\r\n  outline.style.outline = outlineColor + ' solid ' + thickness;\r\n  outline.style.top = Math.round(rect.top).toString() + 'px';\r\n  outline.style.left = Math.round(rect.left).toString() + 'px';\r\n  outline.style.zIndex = 99999;\r\n\r\n  try {\r\n    document.body.appendChild(outline)\r\n    window.active_annotations.push(outline)\r\n  } catch(error) {\r\n    step.status = \"failed\"\r\n    step.error = error\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction fullScreenShot(job, configuration, proceed) {\r\n  const activeWindowId = job.activeWindowId\r\n  const step = current_step(job)\r\n\r\n  console.log(\"Taking a full screen screenshot\")\r\n  try {\r\n    chrome.tabs.captureVisibleTab(activeWindowId, function(result) {\r\n      console.log(\"Finished capturing Result\")\r\n      console.log(result)\r\n      if(result) {\r\n        step.encoded_image = result\r\n        document\r\n          .getElementById(\"screenshot-handler-component\")\r\n          .dispatchEvent(new CustomEvent(\"message\", {\r\n            bubbles: false,\r\n            detail: step\r\n          }))\r\n        success(job, configuration, proceed)\r\n      } else if(result == undefined) {\r\n        step.status = \"failed\"\r\n        const error = \"No Screenshot Returned\"\r\n        step.error = error\r\n        failStep(job, error, configuration, proceed)\r\n      }\r\n    })\r\n  } catch(error) {\r\n    step.status = \"failed\"\r\n    step.error = error\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction setSize(job, configuration, proceed) {\r\n  const activeWindowId = job.activeWindowId\r\n  const step = current_step(job)\r\n  const payload = {\r\n    width: step.width,\r\n    height: step.height\r\n  }\r\n\r\n  console.log(\"Setting size in \" + activeWindowId)\r\n  console.log(payload)\r\n\r\n  try {\r\n    chrome.windows.update(activeWindowId, payload)\r\n    success(job, configuration, proceed)\r\n  } catch(error) {\r\n    step.status = \"failed\"\r\n    step.error = error\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n\r\n}\r\n\r\nfunction navigate(job, configuration, proceed) {\r\n  const activeTabId = job.activeTabId\r\n  const step = current_step(job)\r\n\r\n  const payload = {\r\n    url: step.url\r\n  }\r\n\r\n  const log_string = \"Executing a navigate step to \" + activeTabId\r\n  console.log(log_string)\r\n  \r\n  try {\r\n    chrome.tabs.update(activeTabId, payload, function(result) {\r\n      console.log(\"Triggered Navigation\")\r\n      success(job, configuration, proceed)\r\n    })\r\n  } catch (error) {\r\n    step.status = \"failed\"\r\n    step.error = error\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction fillField(job, configuration, proceed) {\r\n  console.log(\"Filling a field\")\r\n  const step = current_step(job)\r\n  const selector = step.element.selector\r\n  const strategy = step.element.strategy\r\n  const text = step.text\r\n  const element = getElement(strategy, selector)\r\n  const event = new Event('input', { bubbles: true })\r\n\r\n  try {\r\n    console.log(\"Writing to field\")  \r\n    element.value = text\r\n    element.dispatchEvent(event)\r\n    success(job, configuration, proceed)\r\n  } catch (error) {\r\n    step.status = \"failed\"\r\n    step.error = error\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction waitForLoad(job, configuration, proceed) {\r\n  console.log(\"waiting for load\")\r\n  const activeTabId = job.activeTabId\r\n\r\n  var timeout = setTimeout(function(){ \r\n    clearInterval(interval)\r\n    console.log(\"Not found\")\r\n    failStep(job, \"Page not Loaded\", configuration, proceed)\r\n   }, 3000);\r\n\r\n  var interval = setInterval(function(){\r\n    chrome.tabs.get(activeTabId, function(r) {\r\n      if(r.status == 'complete') {\r\n        clearTimeout(timeout)\r\n        clearInterval(interval)\r\n        console.log(\"Page Loaded\")\r\n        success(job, configuration, proceed)\r\n      }\r\n    })\r\n  }, 100);\r\n}\r\n\r\n\r\nfunction startStep(job, configuration, proceed) {\r\n  var step = current_step(job)\r\n  // TODO: This is a convention.  Find a cleaner way to pass from backend\r\n  const step_element_id = \"step-\" + step.id + \"-runner\"\r\n  const step_element = document.getElementById(step_element_id)\r\n  const step_index = current_step_index(job)\r\n  const steps = job.process.steps\r\n\r\n  console.log(\"Starting a \" + step.type + \" step\")\r\n\r\n  step.status = \"running\"\r\n  step.element_id = step_element_id\r\n\r\n  try {\r\n    step_element.dispatchEvent(new CustomEvent(\"message\", {\r\n      bubbles: false,\r\n      detail: step\r\n    }))\r\n    steps[step_index] = step\r\n    success(job, configuration, proceed)\r\n  } catch(error) {\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction completeStep(job, configuration, proceed) {\r\n  var step = current_step(job)\r\n  const step_index = current_step_index(job)\r\n  // TODO: This is a convention.  Find a cleaner way to pass from backend\r\n  const step_element_id = \"step-\" + step.id + \"-runner\"\r\n  const step_element = document.getElementById(step_element_id)\r\n  const event = new CustomEvent(\"message\", {bubbles: false, detail: step})\r\n  const steps = job.process.steps\r\n\r\n  const log_string = \"Completing step \" + step_element_id\r\n  console.log(log_string)\r\n\r\n  step.status = \"complete\"\r\n\r\n  try {\r\n    step_element.dispatchEvent(event)\r\n    var next_step = steps[step_index + 1]\r\n    console.log(next_step)\r\n    if (next_step) {\r\n      // If there's another step, we update and call handle_job\r\n      job.current_step_id = next_step.id\r\n      job.current_sequence = 1\r\n      proceed(job, configuration)\r\n    } else {\r\n      // If there's not, we're going to complete the job\r\n      completeJob(job, configuration, proceed)\r\n    }\r\n  } catch(error) {\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction completeJob(job, configuration, proceed) {\r\n  job.status = 'complete'\r\n  proceed(job, configuration)\r\n}\r\n\r\n\r\nfunction sendToBrowser(job, configuration, proceed) {\r\n  console.log(\"Send to browser\")\r\n  if(configuration.environment == 'extension') {\r\n    console.log(\"Sending to browser\")\r\n    // console.log(job.activeTabId)\r\n    const message = {\r\n      type: job.type,\r\n      payload: job\r\n    }\r\n    try {\r\n      job.current_sequence = job.current_sequence + 1\r\n      chrome.tabs.sendMessage(job.activeTabId, message)\r\n      console.log(\"Step sent to browser\")\r\n    } catch(error) {\r\n      failStep(job, error, configuration, proceed)\r\n    }\r\n  } else {\r\n    success(job, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction sendToExtension(job, configuration, proceed) {\r\n  console.log(\"Send to extension\")\r\n  if(configuration.environment == 'browser') {\r\n    console.log(\"sending to browser\")\r\n    const message = {\r\n      type: job.type,\r\n      payload: job\r\n    }\r\n\r\n    try {\r\n      job.current_sequence = job.current_sequence + 1\r\n      chrome.runtime.sendMessage(message)\r\n      console.log(\"Sent to Extension\") \r\n    } catch(error) {\r\n      failStep(job, error, configuration, proceed)\r\n    } \r\n  } else {\r\n    success(job, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction waitForElement(job, configuration, proceed) {\r\n  var step = current_step(job)\r\n\r\n  const selector = step.element.selector\r\n  const strategy = step.element.strategy\r\n\r\n  console.log(strategy)\r\n\r\n  var element = null\r\n  \r\n  const log_string = \"Waiting for element, strategy: \" + strategy.name + \" selector: \" + selector\r\n  console.log(log_string)\r\n\r\n  var timeout = setTimeout(function(){ \r\n    clearInterval(interval)\r\n    failStep(job, \"Element not found\", configuration, proceed)\r\n   }, 3000);\r\n  var interval = setInterval(function(){\r\n    element = getElement(strategy, selector)\r\n    if(element) {\r\n      step.status = \"running_prechecks\"\r\n      clearTimeout(timeout)\r\n      clearInterval(interval)\r\n      console.log(element)\r\n      console.log(\"found\")\r\n      success(job, configuration, proceed)\r\n    }\r\n  }, 100);\r\n}\r\n\r\nfunction click(job, configuration, proceed) {\r\n  const step = current_step(job)\r\n  const selector = step.element.selector\r\n  const strategy = step.element.strategy\r\n\r\n  try {\r\n    console.log(\"Getting element\")\r\n    getElement(strategy, selector)\r\n      .click()\r\n    success(job, configuration, proceed)\r\n  } catch (error) {\r\n    step.status = \"failed\"\r\n    step.error = error\r\n    failStep(job, error, configuration, proceed)\r\n  }\r\n}\r\n\r\nfunction getElement(strategy, selector) {\r\n  console.log(\"Getting Element with strategy \" + strategy.name + \" and Selector \" + selector)\r\n  var element = null\r\n\r\n  if(strategy.name == 'xpath') {\r\n    element = document.evaluate(\r\n      selector, \r\n      document, \r\n      null, \r\n      XPathResult.FIRST_ORDERED_NODE_TYPE, \r\n      null).singleNodeValue\r\n  } else if (strategy.name == 'id') {\r\n    element = document.getElementById(selector)\r\n  } else if (strategy.name == 'css') {\r\n    element = document.querySelector(selector)\r\n  }\r\n  console.log(element)\r\n  return element\r\n}\r\n\r\nfunction getSelector(job, configuration, proceed) {\r\n  console.log(\"Getting Selector\")\r\n  success(job, configuration, proceed)\r\n}\r\n\r\nfunction setSelector(job, configuration, proceed) {\r\n  const step = current_step(job)\r\n\r\n  const payload = {\r\n    selector: step.selector,\r\n    strategy: step.strategy\r\n  }\r\n\r\n  console.log(\"Setting Strategy to \" + payload.strategy + \" and Selector to \" + payload.selector)\r\n\r\n  document\r\n    .getElementById(\"selector-handler\")\r\n    .dispatchEvent(new CustomEvent(\"selector\", {\r\n      bubbles: false,\r\n      detail: payload\r\n    }))\r\n\r\n  success(job, configuration, proceed)\r\n}\r\n\r\nfunction testSelector(job, configuration, proceed) {\r\n  const step = current_step(job)\r\n  const selector = step.selector\r\n  const strategy = step.strategy\r\n  console.log(\"22 Testing \" + strategy + \" Selector \" + selector)\r\n  console.log(step)\r\n\r\n  if (strategy.name === 'xpath') {\r\n    console.log(\"xpath\")\r\n\r\n    document\r\n      .evaluate(selector, document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null)\r\n      .singleNodeValue\r\n      .style\r\n      .backgroundColor = \"#FDFF47\"\r\n\r\n  } else if (strategy.name === 'css') {\r\n\r\n    document\r\n      .querySelector(selector)\r\n      .style\r\n      .backgroundColor = \"#FDFF47\"\r\n  }\r\n}\r\n\r\nexport {handle_message}","!function(t,n){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define([],n):\"object\"==typeof exports?exports.CssSelectorGenerator=n():t.CssSelectorGenerator=n()}(window,(function(){return function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&\"object\"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:t}),2&n&&\"string\"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,\"a\",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p=\"\",r(r.s=2)}([function(t,n,r){var e=r(1);function o(t,n,r){Array.isArray(t)?t.push(n):t[r]=n}t.exports=function(t){var n,r,i,u=[];if(Array.isArray(t))r=[],n=t.length-1;else{if(\"object\"!=typeof t||null===t)throw new TypeError(\"Expecting an Array or an Object, but `\"+(null===t?\"null\":typeof t)+\"` provided.\");r={},i=Object.keys(t),n=i.length-1}return function r(c,a){var f,l,s;for(l=i?i[a]:a,Array.isArray(t[l])||(void 0===t[l]?t[l]=[]:t[l]=[t[l]]),f=0;f<t[l].length;f++)p=c,o(s=Array.isArray(p)?[].concat(p):e(p),t[l][f],l),a>=n?u.push(s):r(s,a+1);var p}(r,0),u}},function(t,n){t.exports=function(){for(var t={},n=0;n<arguments.length;n++){var e=arguments[n];for(var o in e)r.call(e,o)&&(t[o]=e[o])}return t};var r=Object.prototype.hasOwnProperty},function(t,n,r){\"use strict\";r.r(n);var e=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol?\"symbol\":typeof t},o=function(t){return null!=t&&\"object\"===(void 0===t?\"undefined\":e(t))&&1===t.nodeType&&\"object\"===e(t.style)&&\"object\"===e(t.ownerDocument)};function i(t){var n=t.parentNode;if(n)for(var r=0,e=n.childNodes,i=0;i<e.length;i++)if(o(e[i])&&(r+=1,e[i]===t))return[\":nth-child(\".concat(r,\")\")];return[]}function u(t){return Object.assign({},c,{root:t.ownerDocument.querySelector(\":root\")})}var c={selectors:[\"id\",\"class\",\"tag\",\"attribute\"],includeTag:!1,whitelist:[],blacklist:[],combineWithinSelector:!0,combineBetweenSelectors:!0},a=new RegExp([\"^$\",\"\\\\s\",\"^\\\\d\"].join(\"|\")),f=new RegExp([\"^$\",\"^\\\\d\"].join(\"|\")),l=[\"nthoftype\",\"tag\",\"id\",\"class\",\"attribute\",\"nthchild\"],s=r(0),p=r.n(s);function d(t){return function(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}function y(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[[]];return t.forEach((function(t){n.forEach((function(r){n.push(r.concat(t))}))})),n.shift(),n.sort((function(t,n){return t.length-n.length}))}function v(t){return t.replace(/[|\\\\{}()[\\]^$+?.]/g,\"\\\\$&\").replace(/\\*/g,\".+\")}function g(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===t.length)return new RegExp(\".^\");var n=t.map((function(t){return\"string\"==typeof t?v(t):t.source})).join(\"|\");return new RegExp(n)}function h(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,e=r.querySelectorAll(n);return 1===e.length&&e[0]===t}function b(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m(t),r=[],e=t;o(e)&&e!==n;)r.push(e),e=e.parentElement;return r}function m(t){return t.ownerDocument.querySelector(\":root\")}function j(t){return[N(t.tagName.toLowerCase())]}function A(t){return function(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var w=g([\"class\",\"id\",\"ng-*\"]);function S(t){var n=t.nodeName,r=t.nodeValue;return\"[\".concat(n,\"='\").concat(N(r),\"']\")}function O(t){var n=t.nodeName;return!w.test(n)}function x(t){return function(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||\"[object Arguments]\"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}()}var E=\":\".charCodeAt(0).toString(16).toUpperCase(),T=/[ !\"#$%&'()\\[\\]{|}<>*+,./;=?@^`~\\\\]/;function N(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return t.split(\"\").map((function(t){return\":\"===t?\"\\\\\".concat(E,\" \"):T.test(t)?\"\\\\\".concat(t):escape(t).replace(/%/g,\"\\\\\")})).join(\"\")}var C={tag:j,id:function(t){var n=t.getAttribute(\"id\")||\"\",r=\"#\".concat(N(n));return!a.test(n)&&h(t,r,t.ownerDocument)?[r]:[]},class:function(t){return(t.getAttribute(\"class\")||\"\").trim().split(/\\s+/).filter((function(t){return!f.test(t)})).map((function(t){return\".\".concat(N(t))}))},attribute:function(t){return A(t.attributes).filter(O).map(S)},nthchild:i,nthoftype:function(t){var n=j(t)[0],r=t.parentElement;if(r)for(var e=r.querySelectorAll(n),o=0;o<e.length;o++)if(e[o]===t)return[\"\".concat(n,\":nth-of-type(\").concat(o+1,\")\")];return[]}};function P(t,n){if(t.parentNode)for(var r=function(t,n){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.selectors,e=n.combineBetweenSelectors,o=n.includeTag,i=e?y(r):r.map((function(t){return[t]}));return o?i.map(_):i}(t,n).map((function(n){return r=t,e={},n.forEach((function(t){var n=r[t];n.length>0&&(e[t]=n)})),p()(e).map(q);var r,e})).filter((function(t){return\"\"!==t}))}(function(t,n){var r=n.blacklist,e=n.whitelist,o=n.combineWithinSelector,i=g(r),u=g(e);return function(t){var n=t.selectors,r=t.includeTag,e=[].concat(n);r&&!e.includes(\"tag\")&&e.push(\"tag\");return e}(n).reduce((function(n,r){var e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return t.sort((function(t,r){var e=n.test(t),o=n.test(r);return e&&!o?-1:!e&&o?1:0}))}(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return t.filter((function(t){return r.test(t)||!n.test(t)}))}(function(t,n){return(C[n]||function(){return[]})(t)}(t,r),i,u),u);return n[r]=o?y(e):e.map((function(t){return[t]})),n}),{})}(t,n),n),e=(u=r,(c=[]).concat.apply(c,d(u))),o=0;o<e.length;o++){var i=e[o];if(h(t,i,t.parentNode))return i}var u,c;return\"*\"}function _(t){return t.includes(\"tag\")||t.includes(\"nthoftype\")?x(t):[].concat(x(t),[\"tag\"])}function $(t,n){return n[t]?n[t].join(\"\"):\"\"}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l.map((function(n){return $(n,t)})).join(\"\")}function D(t,n){return b(t,n).map((function(t){return i(t)[0]})).reverse().join(\" > \")}function M(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign({},u(t),n)}function R(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=M(t,n),e=b(t,r.root),o=[],i=0;i<e.length;i++){o.unshift(P(e[i],r));var u=o.join(\" > \");if(h(t,u,r.root))return u}return D(t,r.root)}r.d(n,\"getCssSelector\",(function(){return R}));n.default=R}])}));","/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress\n * @license MIT */\n\n;(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.NProgress = factory();\n  }\n\n})(this, function() {\n  var NProgress = {};\n\n  NProgress.version = '0.2.0';\n\n  var Settings = NProgress.settings = {\n    minimum: 0.08,\n    easing: 'ease',\n    positionUsing: '',\n    speed: 200,\n    trickle: true,\n    trickleRate: 0.02,\n    trickleSpeed: 800,\n    showSpinner: true,\n    barSelector: '[role=\"bar\"]',\n    spinnerSelector: '[role=\"spinner\"]',\n    parent: 'body',\n    template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n  };\n\n  /**\n   * Updates configuration.\n   *\n   *     NProgress.configure({\n   *       minimum: 0.1\n   *     });\n   */\n  NProgress.configure = function(options) {\n    var key, value;\n    for (key in options) {\n      value = options[key];\n      if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n    }\n\n    return this;\n  };\n\n  /**\n   * Last number.\n   */\n\n  NProgress.status = null;\n\n  /**\n   * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n   *\n   *     NProgress.set(0.4);\n   *     NProgress.set(1.0);\n   */\n\n  NProgress.set = function(n) {\n    var started = NProgress.isStarted();\n\n    n = clamp(n, Settings.minimum, 1);\n    NProgress.status = (n === 1 ? null : n);\n\n    var progress = NProgress.render(!started),\n        bar      = progress.querySelector(Settings.barSelector),\n        speed    = Settings.speed,\n        ease     = Settings.easing;\n\n    progress.offsetWidth; /* Repaint */\n\n    queue(function(next) {\n      // Set positionUsing if it hasn't already been set\n      if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n\n      // Add transition\n      css(bar, barPositionCSS(n, speed, ease));\n\n      if (n === 1) {\n        // Fade out\n        css(progress, { \n          transition: 'none', \n          opacity: 1 \n        });\n        progress.offsetWidth; /* Repaint */\n\n        setTimeout(function() {\n          css(progress, { \n            transition: 'all ' + speed + 'ms linear', \n            opacity: 0 \n          });\n          setTimeout(function() {\n            NProgress.remove();\n            next();\n          }, speed);\n        }, speed);\n      } else {\n        setTimeout(next, speed);\n      }\n    });\n\n    return this;\n  };\n\n  NProgress.isStarted = function() {\n    return typeof NProgress.status === 'number';\n  };\n\n  /**\n   * Shows the progress bar.\n   * This is the same as setting the status to 0%, except that it doesn't go backwards.\n   *\n   *     NProgress.start();\n   *\n   */\n  NProgress.start = function() {\n    if (!NProgress.status) NProgress.set(0);\n\n    var work = function() {\n      setTimeout(function() {\n        if (!NProgress.status) return;\n        NProgress.trickle();\n        work();\n      }, Settings.trickleSpeed);\n    };\n\n    if (Settings.trickle) work();\n\n    return this;\n  };\n\n  /**\n   * Hides the progress bar.\n   * This is the *sort of* the same as setting the status to 100%, with the\n   * difference being `done()` makes some placebo effect of some realistic motion.\n   *\n   *     NProgress.done();\n   *\n   * If `true` is passed, it will show the progress bar even if its hidden.\n   *\n   *     NProgress.done(true);\n   */\n\n  NProgress.done = function(force) {\n    if (!force && !NProgress.status) return this;\n\n    return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n  };\n\n  /**\n   * Increments by a random amount.\n   */\n\n  NProgress.inc = function(amount) {\n    var n = NProgress.status;\n\n    if (!n) {\n      return NProgress.start();\n    } else {\n      if (typeof amount !== 'number') {\n        amount = (1 - n) * clamp(Math.random() * n, 0.1, 0.95);\n      }\n\n      n = clamp(n + amount, 0, 0.994);\n      return NProgress.set(n);\n    }\n  };\n\n  NProgress.trickle = function() {\n    return NProgress.inc(Math.random() * Settings.trickleRate);\n  };\n\n  /**\n   * Waits for all supplied jQuery promises and\n   * increases the progress as the promises resolve.\n   *\n   * @param $promise jQUery Promise\n   */\n  (function() {\n    var initial = 0, current = 0;\n\n    NProgress.promise = function($promise) {\n      if (!$promise || $promise.state() === \"resolved\") {\n        return this;\n      }\n\n      if (current === 0) {\n        NProgress.start();\n      }\n\n      initial++;\n      current++;\n\n      $promise.always(function() {\n        current--;\n        if (current === 0) {\n            initial = 0;\n            NProgress.done();\n        } else {\n            NProgress.set((initial - current) / initial);\n        }\n      });\n\n      return this;\n    };\n\n  })();\n\n  /**\n   * (Internal) renders the progress bar markup based on the `template`\n   * setting.\n   */\n\n  NProgress.render = function(fromStart) {\n    if (NProgress.isRendered()) return document.getElementById('nprogress');\n\n    addClass(document.documentElement, 'nprogress-busy');\n    \n    var progress = document.createElement('div');\n    progress.id = 'nprogress';\n    progress.innerHTML = Settings.template;\n\n    var bar      = progress.querySelector(Settings.barSelector),\n        perc     = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n        parent   = document.querySelector(Settings.parent),\n        spinner;\n    \n    css(bar, {\n      transition: 'all 0 linear',\n      transform: 'translate3d(' + perc + '%,0,0)'\n    });\n\n    if (!Settings.showSpinner) {\n      spinner = progress.querySelector(Settings.spinnerSelector);\n      spinner && removeElement(spinner);\n    }\n\n    if (parent != document.body) {\n      addClass(parent, 'nprogress-custom-parent');\n    }\n\n    parent.appendChild(progress);\n    return progress;\n  };\n\n  /**\n   * Removes the element. Opposite of render().\n   */\n\n  NProgress.remove = function() {\n    removeClass(document.documentElement, 'nprogress-busy');\n    removeClass(document.querySelector(Settings.parent), 'nprogress-custom-parent');\n    var progress = document.getElementById('nprogress');\n    progress && removeElement(progress);\n  };\n\n  /**\n   * Checks if the progress bar is rendered.\n   */\n\n  NProgress.isRendered = function() {\n    return !!document.getElementById('nprogress');\n  };\n\n  /**\n   * Determine which positioning CSS rule to use.\n   */\n\n  NProgress.getPositioningCSS = function() {\n    // Sniff on document.body.style\n    var bodyStyle = document.body.style;\n\n    // Sniff prefixes\n    var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n                       ('MozTransform' in bodyStyle) ? 'Moz' :\n                       ('msTransform' in bodyStyle) ? 'ms' :\n                       ('OTransform' in bodyStyle) ? 'O' : '';\n\n    if (vendorPrefix + 'Perspective' in bodyStyle) {\n      // Modern browsers with 3D support, e.g. Webkit, IE10\n      return 'translate3d';\n    } else if (vendorPrefix + 'Transform' in bodyStyle) {\n      // Browsers without 3D support, e.g. IE9\n      return 'translate';\n    } else {\n      // Browsers without translate() support, e.g. IE7-8\n      return 'margin';\n    }\n  };\n\n  /**\n   * Helpers\n   */\n\n  function clamp(n, min, max) {\n    if (n < min) return min;\n    if (n > max) return max;\n    return n;\n  }\n\n  /**\n   * (Internal) converts a percentage (`0..1`) to a bar translateX\n   * percentage (`-100%..0%`).\n   */\n\n  function toBarPerc(n) {\n    return (-1 + n) * 100;\n  }\n\n\n  /**\n   * (Internal) returns the correct CSS for changing the bar's\n   * position given an n percentage, and speed and ease from Settings\n   */\n\n  function barPositionCSS(n, speed, ease) {\n    var barCSS;\n\n    if (Settings.positionUsing === 'translate3d') {\n      barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n    } else if (Settings.positionUsing === 'translate') {\n      barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n    } else {\n      barCSS = { 'margin-left': toBarPerc(n)+'%' };\n    }\n\n    barCSS.transition = 'all '+speed+'ms '+ease;\n\n    return barCSS;\n  }\n\n  /**\n   * (Internal) Queues a function to be executed.\n   */\n\n  var queue = (function() {\n    var pending = [];\n    \n    function next() {\n      var fn = pending.shift();\n      if (fn) {\n        fn(next);\n      }\n    }\n\n    return function(fn) {\n      pending.push(fn);\n      if (pending.length == 1) next();\n    };\n  })();\n\n  /**\n   * (Internal) Applies css properties to an element, similar to the jQuery \n   * css method.\n   *\n   * While this helper does assist with vendor prefixed property names, it \n   * does not perform any manipulation of values prior to setting styles.\n   */\n\n  var css = (function() {\n    var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n        cssProps    = {};\n\n    function camelCase(string) {\n      return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n        return letter.toUpperCase();\n      });\n    }\n\n    function getVendorProp(name) {\n      var style = document.body.style;\n      if (name in style) return name;\n\n      var i = cssPrefixes.length,\n          capName = name.charAt(0).toUpperCase() + name.slice(1),\n          vendorName;\n      while (i--) {\n        vendorName = cssPrefixes[i] + capName;\n        if (vendorName in style) return vendorName;\n      }\n\n      return name;\n    }\n\n    function getStyleProp(name) {\n      name = camelCase(name);\n      return cssProps[name] || (cssProps[name] = getVendorProp(name));\n    }\n\n    function applyCss(element, prop, value) {\n      prop = getStyleProp(prop);\n      element.style[prop] = value;\n    }\n\n    return function(element, properties) {\n      var args = arguments,\n          prop, \n          value;\n\n      if (args.length == 2) {\n        for (prop in properties) {\n          value = properties[prop];\n          if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n        }\n      } else {\n        applyCss(element, args[1], args[2]);\n      }\n    }\n  })();\n\n  /**\n   * (Internal) Determines if an element or space separated list of class names contains a class name.\n   */\n\n  function hasClass(element, name) {\n    var list = typeof element == 'string' ? element : classList(element);\n    return list.indexOf(' ' + name + ' ') >= 0;\n  }\n\n  /**\n   * (Internal) Adds a class to an element.\n   */\n\n  function addClass(element, name) {\n    var oldList = classList(element),\n        newList = oldList + name;\n\n    if (hasClass(oldList, name)) return; \n\n    // Trim the opening space.\n    element.className = newList.substring(1);\n  }\n\n  /**\n   * (Internal) Removes a class from an element.\n   */\n\n  function removeClass(element, name) {\n    var oldList = classList(element),\n        newList;\n\n    if (!hasClass(element, name)) return;\n\n    // Replace the class name.\n    newList = oldList.replace(' ' + name + ' ', ' ');\n\n    // Trim the opening and closing spaces.\n    element.className = newList.substring(1, newList.length - 1);\n  }\n\n  /**\n   * (Internal) Gets a space separated list of the class names on the element. \n   * The list is wrapped with a single space on each end to facilitate finding \n   * matches within the list.\n   */\n\n  function classList(element) {\n    return (' ' + (element.className || '') + ' ').replace(/\\s+/gi, ' ');\n  }\n\n  /**\n   * (Internal) Removes an element from the DOM.\n   */\n\n  function removeElement(element) {\n    element && element.parentNode && element.parentNode.removeChild(element);\n  }\n\n  return NProgress;\n});\n\n"],"sourceRoot":""}